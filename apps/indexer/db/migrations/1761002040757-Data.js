module.exports = class Data1761002040757 {
    name = 'Data1761002040757'

    async up(db) {
        await db.query(`CREATE TABLE "decoded_event" ("id" character varying NOT NULL, "event_signature" text NOT NULL, "event_name" text NOT NULL, "args" jsonb NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "address_id" character varying, "block_id" character varying, "transaction_id" character varying, "log_id" character varying, CONSTRAINT "REL_2c0a8c5038675238221fadb96c" UNIQUE ("log_id"), CONSTRAINT "PK_604623cb9fbf5848619c658ed70" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_0e9db7b7ac80df168243c48474" ON "decoded_event" ("event_name") `)
        await db.query(`CREATE INDEX "IDX_77185105499f321fd0e795bbca" ON "decoded_event" ("address_id") `)
        await db.query(`CREATE INDEX "IDX_bf5e2622f23b99b17d38e22f36" ON "decoded_event" ("block_id") `)
        await db.query(`CREATE INDEX "IDX_b0e68ea8c23a70dece29731f5e" ON "decoded_event" ("transaction_id") `)
        await db.query(`CREATE UNIQUE INDEX "IDX_2c0a8c5038675238221fadb96c" ON "decoded_event" ("log_id") `)
        await db.query(`CREATE INDEX "IDX_be2ae094620778cd2567bd4174" ON "decoded_event" ("timestamp") `)
        await db.query(`CREATE TABLE "log" ("id" character varying NOT NULL, "data" text NOT NULL, "topic0" text, "topic1" text, "topic2" text, "topic3" text, "log_index" integer NOT NULL, "transaction_index" integer NOT NULL, "removed" boolean NOT NULL, "address_id" character varying, "block_id" character varying, "transaction_id" character varying, "decoded_event_id" character varying, CONSTRAINT "PK_350604cbdf991d5930d9e618fbd" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_d382bbcf99b71c79cde645a3d0" ON "log" ("address_id") `)
        await db.query(`CREATE INDEX "IDX_68b1848887890b15828d08ad9e" ON "log" ("topic0") `)
        await db.query(`CREATE INDEX "IDX_71553745ce59eeed624d01a746" ON "log" ("topic1") `)
        await db.query(`CREATE INDEX "IDX_ed7d71609bd64e02354305cf42" ON "log" ("topic2") `)
        await db.query(`CREATE INDEX "IDX_17e6a481f3aa53bd4913e9dc02" ON "log" ("topic3") `)
        await db.query(`CREATE INDEX "IDX_7d3f5ac68148194ee7ced3032e" ON "log" ("block_id") `)
        await db.query(`CREATE INDEX "IDX_b0449a324b803f171f607e9d6c" ON "log" ("transaction_id") `)
        await db.query(`CREATE INDEX "IDX_4ce8a8e635084a1068216c94e5" ON "log" ("decoded_event_id") `)
        await db.query(`CREATE TABLE "trace" ("id" character varying NOT NULL, "type" character varying(12) NOT NULL, "value" numeric, "gas" numeric, "gas_used" numeric, "input" text, "output" text, "error" text, "trace_address" integer array NOT NULL, "from_id" character varying, "to_id" character varying, "transaction_id" character varying, CONSTRAINT "PK_d55e3146ed1a9769069a83a8044" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_27e95e8bb28be23c0fb964aa29" ON "trace" ("from_id") `)
        await db.query(`CREATE INDEX "IDX_91442dad266706f69008ed6c47" ON "trace" ("to_id") `)
        await db.query(`CREATE INDEX "IDX_32ac5e9db3720f2a69b517ef5e" ON "trace" ("transaction_id") `)
        await db.query(`CREATE TABLE "transaction" ("id" character varying NOT NULL, "hash" text NOT NULL, "block_number" integer NOT NULL, "transaction_index" integer NOT NULL, "value" numeric NOT NULL, "gas_price" numeric, "gas_limit" numeric NOT NULL, "gas_used" numeric, "input" text, "nonce" integer NOT NULL, "status" character varying(7) NOT NULL, "type" integer, "max_fee_per_gas" numeric, "max_priority_fee_per_gas" numeric, "from_id" character varying, "to_id" character varying, "block_id" character varying, "contract_address_id" character varying, CONSTRAINT "PK_89eadb93a89810556e1cbcd6ab9" PRIMARY KEY ("id"))`)
        await db.query(`CREATE UNIQUE INDEX "IDX_de4f0899c41c688529784bc443" ON "transaction" ("hash") `)
        await db.query(`CREATE INDEX "IDX_99298f25613c7c4d7c8a77f9a4" ON "transaction" ("from_id") `)
        await db.query(`CREATE INDEX "IDX_7de44fdf7c9e64d9fd4b8a1de3" ON "transaction" ("to_id") `)
        await db.query(`CREATE INDEX "IDX_c0e1460f3c9eee975fee81002d" ON "transaction" ("block_id") `)
        await db.query(`CREATE INDEX "IDX_2d99bb5a0ab5fb8cf8b746eb39" ON "transaction" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_15fb86968ef04bd2a4973e51e0" ON "transaction" ("contract_address_id") `)
        await db.query(`CREATE TABLE "token_transfer" ("id" character varying NOT NULL, "log_index" integer NOT NULL, "token_standard" character varying(7) NOT NULL, "value" numeric, "token_id" character varying, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "from_id" character varying, "to_id" character varying, "operator_id" character varying, "block_id" character varying, "transaction_id" character varying, CONSTRAINT "PK_77384b7f5874553f012eba9da41" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_0dd22ecdb9b38e7b985c11b58c" ON "token_transfer" ("token_standard") `)
        await db.query(`CREATE INDEX "IDX_f62ce2d807e8c6ce2651d2ebf9" ON "token_transfer" ("from_id") `)
        await db.query(`CREATE INDEX "IDX_f272327358edf76901e129ac31" ON "token_transfer" ("to_id") `)
        await db.query(`CREATE INDEX "IDX_cf689fed4f031b691c31152201" ON "token_transfer" ("operator_id") `)
        await db.query(`CREATE INDEX "IDX_4dbddd00fdedf513899e70cc68" ON "token_transfer" ("token_id") `)
        await db.query(`CREATE INDEX "IDX_df880819edb0d6a3168fde64d7" ON "token_transfer" ("block_id") `)
        await db.query(`CREATE INDEX "IDX_b2bc7c264d1c698cd6147c6e1c" ON "token_transfer" ("transaction_id") `)
        await db.query(`CREATE INDEX "IDX_752d6c330729a7b2e283003374" ON "token_transfer" ("timestamp") `)
        await db.query(`CREATE TABLE "contract" ("id" character varying NOT NULL, "address" text NOT NULL, "bytecode" text, "contract_type" character varying(17), "is_erc20" boolean NOT NULL, "is_erc721" boolean NOT NULL, "is_erc1155" boolean NOT NULL, "is_proxy" boolean NOT NULL, "implementation_address" text, "verified" boolean NOT NULL, "first_seen_at" TIMESTAMP WITH TIME ZONE NOT NULL, "last_seen_at" TIMESTAMP WITH TIME ZONE NOT NULL, "creator_id" character varying, "creation_transaction_id" character varying, "creation_block_id" character varying, CONSTRAINT "PK_17c3a89f58a2997276084e706e8" PRIMARY KEY ("id"))`)
        await db.query(`CREATE UNIQUE INDEX "IDX_4bbe5fb40812718baf74cc9a79" ON "contract" ("address") `)
        await db.query(`CREATE INDEX "IDX_f256a32909b65e0adb69bc8839" ON "contract" ("first_seen_at") `)
        await db.query(`CREATE INDEX "IDX_48017ca312ab77982b8ca4422f" ON "contract" ("last_seen_at") `)
        await db.query(`CREATE INDEX "IDX_09bdbb8b82bd1041250f1dbc75" ON "contract" ("creator_id") `)
        await db.query(`CREATE INDEX "IDX_5456de4e38984aa839245ddc39" ON "contract" ("creation_transaction_id") `)
        await db.query(`CREATE INDEX "IDX_cb74cba29e70681683c94202cb" ON "contract" ("creation_block_id") `)
        await db.query(`CREATE TABLE "token_balance" ("id" character varying NOT NULL, "balance" numeric NOT NULL, "transfer_count" integer NOT NULL, "last_updated" TIMESTAMP WITH TIME ZONE NOT NULL, "account_id" character varying, "token_id" character varying, CONSTRAINT "PK_dc23ea262a0188977523d90ae7f" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_d4e04cd8874942b186b7a9d927" ON "token_balance" ("account_id") `)
        await db.query(`CREATE INDEX "IDX_5813c3040e74c285719679c693" ON "token_balance" ("token_id") `)
        await db.query(`CREATE INDEX "IDX_c5068d2514c0e9b35856555043" ON "token_balance" ("last_updated") `)
        await db.query(`CREATE TABLE "account" ("id" character varying NOT NULL, "address" text NOT NULL, "is_contract" boolean NOT NULL, "first_seen_block" integer NOT NULL, "last_seen_block" integer NOT NULL, "transaction_count" integer NOT NULL, "total_value_sent" numeric NOT NULL, "total_value_received" numeric NOT NULL, "labels" text array NOT NULL, "first_seen_at" TIMESTAMP WITH TIME ZONE NOT NULL, "last_seen_at" TIMESTAMP WITH TIME ZONE NOT NULL, "contract_id" character varying, CONSTRAINT "PK_54115ee388cdb6d86bb4bf5b2ea" PRIMARY KEY ("id"))`)
        await db.query(`CREATE UNIQUE INDEX "IDX_83603c168bc00b20544539fbea" ON "account" ("address") `)
        await db.query(`CREATE INDEX "IDX_71f0bbbb5c51d7e69d6a25dc62" ON "account" ("first_seen_block") `)
        await db.query(`CREATE INDEX "IDX_0058b87281e6a64f6db5187341" ON "account" ("last_seen_block") `)
        await db.query(`CREATE INDEX "IDX_53be5fe2df7f033360c7126819" ON "account" ("contract_id") `)
        await db.query(`CREATE INDEX "IDX_0e84b5731a9d2b222e7074a7e0" ON "account" ("first_seen_at") `)
        await db.query(`CREATE INDEX "IDX_9739341984f66a088a9836ba0c" ON "account" ("last_seen_at") `)
        await db.query(`CREATE TABLE "block" ("id" character varying NOT NULL, "number" integer NOT NULL, "hash" text NOT NULL, "parent_hash" text NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "transaction_count" integer NOT NULL, "gas_used" numeric NOT NULL, "gas_limit" numeric NOT NULL, "base_fee_per_gas" numeric, "size" integer NOT NULL, "miner_id" character varying, CONSTRAINT "PK_d0925763efb591c2e2ffb267572" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_38414873c187a3e0c7943bc4c7" ON "block" ("number") `)
        await db.query(`CREATE INDEX "IDX_5c67cbcf4960c1a39e5fe25e87" ON "block" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_100dd4ef3d950086231512d207" ON "block" ("miner_id") `)
        await db.query(`CREATE TABLE "moderation_report" ("id" character varying NOT NULL, "report_id" numeric NOT NULL, "target_agent_id" numeric NOT NULL, "reporter" bytea NOT NULL, "report_type" character varying(13) NOT NULL, "severity" character varying(8) NOT NULL, "details" text NOT NULL, "status" character varying(12) NOT NULL, "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "evidence_ipfs_id" character varying, CONSTRAINT "PK_ebc1deefdbd04c7722708b44907" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_be125b428625b84bcd37b197b6" ON "moderation_report" ("evidence_ipfs_id") `)
        await db.query(`CREATE TABLE "tee_attestation" ("id" character varying NOT NULL, "session_id" bytea NOT NULL, "content_hash" bytea NOT NULL, "game_type" character varying(10) NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "verified" boolean NOT NULL, "attestation_ipfs_id" character varying, CONSTRAINT "PK_1b3f9a6a7a9f99cb17b063df249" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_47e5f1c271233ed2a320139d1f" ON "tee_attestation" ("attestation_ipfs_id") `)
        await db.query(`CREATE TABLE "nft_metadata" ("id" character varying NOT NULL, "token_id" numeric NOT NULL, "contract" bytea NOT NULL, "owner" bytea NOT NULL, "minted_at" TIMESTAMP WITH TIME ZONE NOT NULL, "metadata_ipfs_id" character varying, CONSTRAINT "PK_c36d2ea36d7de5e265c30b8be80" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_1e8cf13b3e0a6894c26d0ae5a4" ON "nft_metadata" ("metadata_ipfs_id") `)
        await db.query(`CREATE TABLE "agent_profile" ("id" character varying NOT NULL, "agent_id" numeric NOT NULL, "owner" bytea NOT NULL, "stake_tier" integer NOT NULL, "registered" TIMESTAMP WITH TIME ZONE NOT NULL, "is_banned" boolean NOT NULL, "profile_ipfs_id" character varying, CONSTRAINT "PK_7890ede0822be6d765828a5986e" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_445eea2e10454d2e2c967b4005" ON "agent_profile" ("profile_ipfs_id") `)
        await db.query(`CREATE TABLE "contest_result" ("id" character varying NOT NULL, "contest_id" bytea NOT NULL, "winner" integer NOT NULL, "finalized" TIMESTAMP WITH TIME ZONE NOT NULL, "results_ipfs_id" character varying, CONSTRAINT "PK_4619341588a3af258c65814733a" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_0ef7253739a30c584b3f37ecbd" ON "contest_result" ("results_ipfs_id") `)
        await db.query(`CREATE TABLE "ipfs_file" ("id" character varying NOT NULL, "cid" text NOT NULL, "owner" bytea NOT NULL, "size_bytes" numeric NOT NULL, "paid_amount" numeric NOT NULL, "payment_token" bytea NOT NULL, "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "expires_at" TIMESTAMP WITH TIME ZONE NOT NULL, "is_pinned" boolean NOT NULL, "category" character varying(19) NOT NULL, "related_contract" bytea, "related_entity_id" text, "filename" text, "mime_type" text, "moderation_report_id" character varying, "tee_attestation_id" character varying, "nft_metadata_id" character varying, "agent_profile_id" character varying, "contest_result_id" character varying, CONSTRAINT "PK_d45fb79e60961d138247eb5552e" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_e6b653e79d55e885c4f5551c1a" ON "ipfs_file" ("cid") `)
        await db.query(`CREATE INDEX "IDX_500fdca3b8630662a4c2ecfead" ON "ipfs_file" ("owner") `)
        await db.query(`CREATE INDEX "IDX_ff0daf36966bb72dc03c1da020" ON "ipfs_file" ("created_at") `)
        await db.query(`CREATE INDEX "IDX_af0f5490a72d1abd82dea68184" ON "ipfs_file" ("expires_at") `)
        await db.query(`CREATE INDEX "IDX_079e66982a7a712496b3d75b91" ON "ipfs_file" ("category") `)
        await db.query(`CREATE INDEX "IDX_1ef076006e2eabe7f066ebe23f" ON "ipfs_file" ("related_contract") `)
        await db.query(`CREATE INDEX "IDX_23f381500602e6146fe66a4f0e" ON "ipfs_file" ("related_entity_id") `)
        await db.query(`CREATE INDEX "IDX_ac4fd79117cfa40c61fbea92eb" ON "ipfs_file" ("moderation_report_id") `)
        await db.query(`CREATE INDEX "IDX_bdf82ca32cbe38cecca75f6ffa" ON "ipfs_file" ("tee_attestation_id") `)
        await db.query(`CREATE INDEX "IDX_606118e273f8adb3cbb986dc44" ON "ipfs_file" ("nft_metadata_id") `)
        await db.query(`CREATE INDEX "IDX_e88fb4c20b766a0882bc41686e" ON "ipfs_file" ("agent_profile_id") `)
        await db.query(`CREATE INDEX "IDX_87c421c5e713a95945a0f95478" ON "ipfs_file" ("contest_result_id") `)
        await db.query(`CREATE TABLE "storage_stats" ("id" character varying NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "total_files" numeric NOT NULL, "total_size_bytes" numeric NOT NULL, "total_revenue" numeric NOT NULL, "active_users" numeric NOT NULL, "evidence_files" numeric NOT NULL, "attestation_files" numeric NOT NULL, "asset_files" numeric NOT NULL, "metadata_files" numeric NOT NULL, CONSTRAINT "PK_8a714fe62648c7dc502f0855d40" PRIMARY KEY ("id"))`)
        await db.query(`CREATE TABLE "game_feed_post" ("id" character varying NOT NULL, "session_id" text NOT NULL, "post_id" text NOT NULL, "author" text NOT NULL, "content" text NOT NULL, "game_day" integer NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "is_system_message" boolean NOT NULL, "block_number" numeric NOT NULL, "transaction_hash" text NOT NULL, CONSTRAINT "PK_8ca92103ead1a69fdc1243d2262" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_9733c8ccbfa07867c8965d95a1" ON "game_feed_post" ("session_id") `)
        await db.query(`CREATE INDEX "IDX_7b697642a8bad3c9bef3081693" ON "game_feed_post" ("post_id") `)
        await db.query(`CREATE INDEX "IDX_398ef3cf01ecf63d9bdcb6a703" ON "game_feed_post" ("author") `)
        await db.query(`CREATE INDEX "IDX_2c2743c93be5554ebcfcfb4276" ON "game_feed_post" ("timestamp") `)
        await db.query(`CREATE TABLE "game_market_update" ("id" character varying NOT NULL, "session_id" text NOT NULL, "yes_odds" integer NOT NULL, "no_odds" integer NOT NULL, "total_volume" numeric NOT NULL, "game_day" integer NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "block_number" numeric NOT NULL, "transaction_hash" text NOT NULL, CONSTRAINT "PK_0c137b56e8b0a4ea64e9efbc497" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_4af155b928a55d81c065c9d539" ON "game_market_update" ("session_id") `)
        await db.query(`CREATE INDEX "IDX_b83657badb4272641de53b2395" ON "game_market_update" ("timestamp") `)
        await db.query(`CREATE TABLE "game_phase_change" ("id" character varying NOT NULL, "session_id" text NOT NULL, "phase" text NOT NULL, "day" integer NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "block_number" numeric NOT NULL, "transaction_hash" text NOT NULL, CONSTRAINT "PK_983566413bc768c46883b86ed99" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_2f413b3bd8018b08cc2f0601d6" ON "game_phase_change" ("session_id") `)
        await db.query(`CREATE INDEX "IDX_78ce386f8909008ab8c98d7466" ON "game_phase_change" ("timestamp") `)
        await db.query(`CREATE TABLE "player_skill_event" ("id" character varying NOT NULL, "player" text NOT NULL, "skill_name" text NOT NULL, "new_level" integer NOT NULL, "total_xp" numeric NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "block_number" numeric NOT NULL, "transaction_hash" text NOT NULL, CONSTRAINT "PK_67ca17c624e1075a53ce5812c4a" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_6ff6cf43dc38d94616880d72f0" ON "player_skill_event" ("player") `)
        await db.query(`CREATE INDEX "IDX_57ae19b3eae46fec01510ec4fa" ON "player_skill_event" ("timestamp") `)
        await db.query(`CREATE TABLE "player_death_event" ("id" character varying NOT NULL, "player" text NOT NULL, "killer" text, "location" text NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "block_number" numeric NOT NULL, "transaction_hash" text NOT NULL, CONSTRAINT "PK_da263ec058e5cedc454d22d8172" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_a3cec8be124075f8a80a0af5f4" ON "player_death_event" ("player") `)
        await db.query(`CREATE INDEX "IDX_3c4c65358a1c5e194d3dddf0af" ON "player_death_event" ("killer") `)
        await db.query(`CREATE INDEX "IDX_b11b138e90ca07068d21b7764f" ON "player_death_event" ("timestamp") `)
        await db.query(`CREATE TABLE "player_kill_event" ("id" character varying NOT NULL, "killer" text NOT NULL, "victim" text NOT NULL, "method" text NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "block_number" numeric NOT NULL, "transaction_hash" text NOT NULL, CONSTRAINT "PK_1a58d1785447729ae9b950b8ca7" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_2877eac0463de03b2a2fb51aed" ON "player_kill_event" ("killer") `)
        await db.query(`CREATE INDEX "IDX_0d265dc59679fa5c4241b84276" ON "player_kill_event" ("victim") `)
        await db.query(`CREATE INDEX "IDX_ab257b1b6ba84e435488fc66b6" ON "player_kill_event" ("timestamp") `)
        await db.query(`CREATE TABLE "player_achievement" ("id" character varying NOT NULL, "player" text NOT NULL, "achievement_id" text NOT NULL, "achievement_type" text NOT NULL, "value" numeric NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "block_number" numeric NOT NULL, "transaction_hash" text NOT NULL, CONSTRAINT "PK_f93710f14a4199121357e149952" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_25787eb717cc5bf339780a4324" ON "player_achievement" ("player") `)
        await db.query(`CREATE INDEX "IDX_634d8fb8831afd542471f16330" ON "player_achievement" ("timestamp") `)
        await db.query(`CREATE TABLE "player_stats" ("id" character varying NOT NULL, "player" text NOT NULL, "total_skill_events" integer NOT NULL, "total_deaths" integer NOT NULL, "total_kills" integer NOT NULL, "total_achievements" integer NOT NULL, "highest_skill_level" integer NOT NULL, "highest_skill_name" text, "last_active" TIMESTAMP WITH TIME ZONE NOT NULL, CONSTRAINT "PK_22e2d8ec820a98efbfdbf84d925" PRIMARY KEY ("id"))`)
        await db.query(`CREATE UNIQUE INDEX "IDX_fcd6b1ef99e95fc105c1cc56ea" ON "player_stats" ("player") `)
        await db.query(`CREATE INDEX "IDX_de92b2fe6752a225c651ab87f2" ON "player_stats" ("last_active") `)
        await db.query(`CREATE TABLE "performance_update" ("id" character varying NOT NULL, "uptime_score" numeric NOT NULL, "requests_served" numeric NOT NULL, "avg_response_time" numeric NOT NULL, "timestamp" numeric NOT NULL, "block_number" numeric NOT NULL, "transaction_hash" text NOT NULL, "node_id" character varying, CONSTRAINT "PK_984f82da5456a0dcb8c1aa3b282" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_4b640cd545d44121bb656f0728" ON "performance_update" ("node_id") `)
        await db.query(`CREATE TABLE "reward_claim" ("id" character varying NOT NULL, "operator" text NOT NULL, "reward_token" text NOT NULL, "reward_amount" numeric NOT NULL, "paymaster_fees_eth" numeric NOT NULL, "timestamp" numeric NOT NULL, "block_number" numeric NOT NULL, "transaction_hash" text NOT NULL, "node_id" character varying, CONSTRAINT "PK_ecf9eb6840f52940b38611738a2" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_e8646395236ace37116864d958" ON "reward_claim" ("node_id") `)
        await db.query(`CREATE TABLE "node_stake" ("id" character varying NOT NULL, "node_id" text NOT NULL, "operator" text NOT NULL, "staked_token" text NOT NULL, "staked_amount" numeric NOT NULL, "staked_value_usd" numeric NOT NULL, "reward_token" text NOT NULL, "total_rewards_claimed" numeric NOT NULL, "last_claim_time" numeric NOT NULL, "rpc_url" text NOT NULL, "geographic_region" integer NOT NULL, "registration_time" numeric NOT NULL, "is_active" boolean NOT NULL, "is_slashed" boolean NOT NULL, "current_uptime_score" numeric, "current_requests_served" numeric, "current_avg_response_time" numeric, CONSTRAINT "PK_52ed6d11cc5c251814a82cf3417" PRIMARY KEY ("id"))`)
        await db.query(`CREATE UNIQUE INDEX "IDX_56e773bd6e1ec84a57d67339f0" ON "node_stake" ("node_id") `)
        await db.query(`CREATE INDEX "IDX_a1d61208df7dd3c6022cf5c54a" ON "node_stake" ("operator") `)
        await db.query(`CREATE TABLE "operator_stats" ("id" character varying NOT NULL, "operator" text NOT NULL, "total_nodes" integer NOT NULL, "total_staked" numeric NOT NULL, "total_rewards_claimed" numeric NOT NULL, "average_uptime" numeric NOT NULL, "last_active" TIMESTAMP WITH TIME ZONE NOT NULL, CONSTRAINT "PK_d1a711c5a062becdbc45c446ec0" PRIMARY KEY ("id"))`)
        await db.query(`CREATE UNIQUE INDEX "IDX_c9a991fc5837b95caf22480487" ON "operator_stats" ("operator") `)
        await db.query(`CREATE INDEX "IDX_4ba5a73049973df82b90f79b80" ON "operator_stats" ("last_active") `)
        await db.query(`CREATE TABLE "token_distribution" ("id" character varying NOT NULL, "token" text NOT NULL, "total_staked" numeric NOT NULL, "total_nodes" integer NOT NULL, "average_stake" numeric NOT NULL, "last_updated" TIMESTAMP WITH TIME ZONE NOT NULL, CONSTRAINT "PK_2dc6b891678cf9e16d3d8be9f1b" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_c3dd12d20d8d93f9f4e4341496" ON "token_distribution" ("token") `)
        await db.query(`CREATE INDEX "IDX_e9acf702beca899bb9c0a45912" ON "token_distribution" ("last_updated") `)
        await db.query(`CREATE TABLE "network_snapshot" ("id" character varying NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "total_nodes" integer NOT NULL, "active_nodes" integer NOT NULL, "total_staked" numeric NOT NULL, "total_staked_usd" numeric NOT NULL, "average_uptime" numeric NOT NULL, CONSTRAINT "PK_4140a1a18a4baf8d48aa5d10a2b" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_8973e9e753a40203c897ae7521" ON "network_snapshot" ("timestamp") `)
        await db.query(`CREATE TABLE "governance_event" ("id" character varying NOT NULL, "event_type" text NOT NULL, "actor" text, "reason" text, "timestamp" numeric NOT NULL, "block_number" numeric NOT NULL, "transaction_hash" text NOT NULL, "proposal_id" character varying, CONSTRAINT "PK_48f26eccc7175b1dfbf9b339eb3" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_6d2fdc3ca8e54bd84e9db10f1e" ON "governance_event" ("proposal_id") `)
        await db.query(`CREATE TABLE "governance_proposal" ("id" character varying NOT NULL, "proposal_id" bytea NOT NULL, "parameter" text NOT NULL, "current_value" numeric NOT NULL, "proposed_value" numeric NOT NULL, "change_market_id" bytea NOT NULL, "status_quo_market_id" bytea NOT NULL, "created_at" numeric NOT NULL, "voting_ends" numeric NOT NULL, "execute_after" numeric NOT NULL, "executed" boolean NOT NULL, "vetoed" boolean NOT NULL, "proposer" text NOT NULL, CONSTRAINT "PK_d71b4171baf362416ecfc414531" PRIMARY KEY ("id"))`)
        await db.query(`CREATE UNIQUE INDEX "IDX_9842eb6b6123996d8d2b074251" ON "governance_proposal" ("proposal_id") `)
        await db.query(`CREATE TABLE "agent_metadata" ("id" character varying NOT NULL, "key" text NOT NULL, "value" text NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL, "tx_hash" text NOT NULL, "block_number" integer NOT NULL, "agent_id" character varying, CONSTRAINT "PK_11273aad674371834ad159c63a9" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_ce9129d3204bed086eb86bdb61" ON "agent_metadata" ("agent_id") `)
        await db.query(`CREATE INDEX "IDX_578260ed0d4cdb8a47cde1f4ed" ON "agent_metadata" ("updated_at") `)
        await db.query(`CREATE TABLE "registry_stake" ("id" character varying NOT NULL, "token" text NOT NULL, "amount" numeric NOT NULL, "deposited_at" numeric NOT NULL, "tx_hash" text NOT NULL, "block_number" integer NOT NULL, "agent_id" character varying, CONSTRAINT "PK_5aa24cc6615e0e778403a5b9461" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_346faceebcf90da166ff6f81ef" ON "registry_stake" ("agent_id") `)
        await db.query(`CREATE TABLE "tag_update" ("id" character varying NOT NULL, "old_tags" text array NOT NULL, "new_tags" text array NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL, "tx_hash" text NOT NULL, "block_number" integer NOT NULL, "agent_id" character varying, CONSTRAINT "PK_91c85e4f45f7795bc41189efb5c" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_ad0f179f2035c5bfb881256098" ON "tag_update" ("agent_id") `)
        await db.query(`CREATE INDEX "IDX_612b7447c054dd16b73babef31" ON "tag_update" ("updated_at") `)
        await db.query(`CREATE TABLE "registered_agent" ("id" character varying NOT NULL, "agent_id" numeric NOT NULL, "token_uri" text, "name" text NOT NULL, "description" text, "tags" text array NOT NULL, "stake_token" text NOT NULL, "stake_amount" numeric NOT NULL, "stake_withdrawn" boolean NOT NULL, "registered_at" TIMESTAMP WITH TIME ZONE NOT NULL, "deposited_at" numeric NOT NULL, "withdrawn_at" numeric, "active" boolean NOT NULL, "a2a_endpoint" text, "owner_id" character varying, CONSTRAINT "PK_442e8455cb97fd8d47d75326d4b" PRIMARY KEY ("id"))`)
        await db.query(`CREATE UNIQUE INDEX "IDX_fd141754f6fc3a44e3e1799248" ON "registered_agent" ("agent_id") `)
        await db.query(`CREATE INDEX "IDX_6476989db15f4a480e7df04b24" ON "registered_agent" ("owner_id") `)
        await db.query(`CREATE INDEX "IDX_9b2b620921eadc220a0651a2ed" ON "registered_agent" ("registered_at") `)
        await db.query(`CREATE TABLE "market_trade" ("id" character varying NOT NULL, "outcome" boolean NOT NULL, "is_buy" boolean NOT NULL, "shares" numeric NOT NULL, "cost" numeric NOT NULL, "price_after" numeric NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "market_id" character varying, "trader_id" character varying, CONSTRAINT "PK_a8217fcd91584c8dcb238b755a9" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_14f2c5aa45084d1417ecc74c76" ON "market_trade" ("market_id") `)
        await db.query(`CREATE INDEX "IDX_954e0a989b7a085a09a4b087cb" ON "market_trade" ("trader_id") `)
        await db.query(`CREATE INDEX "IDX_8901863bae809412c8f50a0b74" ON "market_trade" ("timestamp") `)
        await db.query(`CREATE TABLE "market_position" ("id" character varying NOT NULL, "yes_shares" numeric NOT NULL, "no_shares" numeric NOT NULL, "total_spent" numeric NOT NULL, "total_received" numeric NOT NULL, "has_claimed" boolean NOT NULL, "last_updated" TIMESTAMP WITH TIME ZONE NOT NULL, "market_id" character varying, "trader_id" character varying, CONSTRAINT "PK_1a27b3cc8468d5014e7bd5ac141" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_fd2ca99ba61da5163e5260f41a" ON "market_position" ("market_id") `)
        await db.query(`CREATE INDEX "IDX_32e5e448f5760b8f7ba1f1752f" ON "market_position" ("trader_id") `)
        await db.query(`CREATE INDEX "IDX_96b0f686a0079dbc0702a07305" ON "market_position" ("last_updated") `)
        await db.query(`CREATE TABLE "prediction_market" ("id" character varying NOT NULL, "session_id" text NOT NULL, "question" text NOT NULL, "liquidity_b" numeric NOT NULL, "yes_shares" numeric NOT NULL, "no_shares" numeric NOT NULL, "total_volume" numeric NOT NULL, "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "resolved" boolean NOT NULL, "outcome" boolean, CONSTRAINT "PK_a2672c3248a0ae67c25c91886b5" PRIMARY KEY ("id"))`)
        await db.query(`CREATE UNIQUE INDEX "IDX_842d8c5916d8296345c4e7a575" ON "prediction_market" ("session_id") `)
        await db.query(`CREATE INDEX "IDX_44b7012944f400b552c8763620" ON "prediction_market" ("created_at") `)
        await db.query(`CREATE INDEX "IDX_102ef1e009156291d7475d2d4d" ON "prediction_market" ("resolved") `)
        await db.query(`CREATE TABLE "oracle_game" ("id" character varying NOT NULL, "session_id" text NOT NULL, "question" text NOT NULL, "commitment" text NOT NULL, "committed_at" TIMESTAMP WITH TIME ZONE NOT NULL, "finalized" boolean NOT NULL, "revealed_at" TIMESTAMP WITH TIME ZONE, "outcome" boolean, "winners" text array NOT NULL, "total_payout" numeric NOT NULL, "market_id" character varying, CONSTRAINT "PK_34e1d32f70b6efe63934086318f" PRIMARY KEY ("id"))`)
        await db.query(`CREATE UNIQUE INDEX "IDX_2519b92c134d79fb25472c7d75" ON "oracle_game" ("session_id") `)
        await db.query(`CREATE INDEX "IDX_fd0c0af5d12ed15649c6d3785e" ON "oracle_game" ("committed_at") `)
        await db.query(`CREATE INDEX "IDX_e467e7d59baff54f223e68853d" ON "oracle_game" ("finalized") `)
        await db.query(`CREATE INDEX "IDX_58e0b1aaede1774661c015561e" ON "oracle_game" ("market_id") `)
        await db.query(`CREATE TABLE "market_stats" ("id" character varying NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "total_markets" numeric NOT NULL, "active_markets" numeric NOT NULL, "resolved_markets" numeric NOT NULL, "total_volume" numeric NOT NULL, "total_trades" numeric NOT NULL, "unique_traders" numeric NOT NULL, CONSTRAINT "PK_4c04ba6c86e713426cc9937a7c0" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_7414c3e693fc3cb552ac7153d9" ON "market_stats" ("date") `)
        await db.query(`ALTER TABLE "decoded_event" ADD CONSTRAINT "FK_77185105499f321fd0e795bbca5" FOREIGN KEY ("address_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "decoded_event" ADD CONSTRAINT "FK_bf5e2622f23b99b17d38e22f364" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "decoded_event" ADD CONSTRAINT "FK_b0e68ea8c23a70dece29731f5e8" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "decoded_event" ADD CONSTRAINT "FK_2c0a8c5038675238221fadb96cf" FOREIGN KEY ("log_id") REFERENCES "log"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "log" ADD CONSTRAINT "FK_d382bbcf99b71c79cde645a3d02" FOREIGN KEY ("address_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "log" ADD CONSTRAINT "FK_7d3f5ac68148194ee7ced3032e2" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "log" ADD CONSTRAINT "FK_b0449a324b803f171f607e9d6ca" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "log" ADD CONSTRAINT "FK_4ce8a8e635084a1068216c94e50" FOREIGN KEY ("decoded_event_id") REFERENCES "decoded_event"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "trace" ADD CONSTRAINT "FK_27e95e8bb28be23c0fb964aa293" FOREIGN KEY ("from_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "trace" ADD CONSTRAINT "FK_91442dad266706f69008ed6c474" FOREIGN KEY ("to_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "trace" ADD CONSTRAINT "FK_32ac5e9db3720f2a69b517ef5e6" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transaction" ADD CONSTRAINT "FK_99298f25613c7c4d7c8a77f9a40" FOREIGN KEY ("from_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transaction" ADD CONSTRAINT "FK_7de44fdf7c9e64d9fd4b8a1de36" FOREIGN KEY ("to_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transaction" ADD CONSTRAINT "FK_c0e1460f3c9eee975fee81002dc" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transaction" ADD CONSTRAINT "FK_15fb86968ef04bd2a4973e51e01" FOREIGN KEY ("contract_address_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_transfer" ADD CONSTRAINT "FK_f62ce2d807e8c6ce2651d2ebf97" FOREIGN KEY ("from_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_transfer" ADD CONSTRAINT "FK_f272327358edf76901e129ac317" FOREIGN KEY ("to_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_transfer" ADD CONSTRAINT "FK_cf689fed4f031b691c311522011" FOREIGN KEY ("operator_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_transfer" ADD CONSTRAINT "FK_4dbddd00fdedf513899e70cc681" FOREIGN KEY ("token_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_transfer" ADD CONSTRAINT "FK_df880819edb0d6a3168fde64d71" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_transfer" ADD CONSTRAINT "FK_b2bc7c264d1c698cd6147c6e1cd" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "contract" ADD CONSTRAINT "FK_09bdbb8b82bd1041250f1dbc75f" FOREIGN KEY ("creator_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "contract" ADD CONSTRAINT "FK_5456de4e38984aa839245ddc393" FOREIGN KEY ("creation_transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "contract" ADD CONSTRAINT "FK_cb74cba29e70681683c94202cb2" FOREIGN KEY ("creation_block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_balance" ADD CONSTRAINT "FK_d4e04cd8874942b186b7a9d927d" FOREIGN KEY ("account_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_balance" ADD CONSTRAINT "FK_5813c3040e74c285719679c6935" FOREIGN KEY ("token_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "account" ADD CONSTRAINT "FK_53be5fe2df7f033360c7126819c" FOREIGN KEY ("contract_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "block" ADD CONSTRAINT "FK_100dd4ef3d950086231512d2071" FOREIGN KEY ("miner_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "moderation_report" ADD CONSTRAINT "FK_be125b428625b84bcd37b197b68" FOREIGN KEY ("evidence_ipfs_id") REFERENCES "ipfs_file"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "tee_attestation" ADD CONSTRAINT "FK_47e5f1c271233ed2a320139d1f9" FOREIGN KEY ("attestation_ipfs_id") REFERENCES "ipfs_file"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nft_metadata" ADD CONSTRAINT "FK_1e8cf13b3e0a6894c26d0ae5a4e" FOREIGN KEY ("metadata_ipfs_id") REFERENCES "ipfs_file"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "agent_profile" ADD CONSTRAINT "FK_445eea2e10454d2e2c967b4005a" FOREIGN KEY ("profile_ipfs_id") REFERENCES "ipfs_file"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "contest_result" ADD CONSTRAINT "FK_0ef7253739a30c584b3f37ecbd7" FOREIGN KEY ("results_ipfs_id") REFERENCES "ipfs_file"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "ipfs_file" ADD CONSTRAINT "FK_ac4fd79117cfa40c61fbea92ebc" FOREIGN KEY ("moderation_report_id") REFERENCES "moderation_report"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "ipfs_file" ADD CONSTRAINT "FK_bdf82ca32cbe38cecca75f6ffab" FOREIGN KEY ("tee_attestation_id") REFERENCES "tee_attestation"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "ipfs_file" ADD CONSTRAINT "FK_606118e273f8adb3cbb986dc443" FOREIGN KEY ("nft_metadata_id") REFERENCES "nft_metadata"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "ipfs_file" ADD CONSTRAINT "FK_e88fb4c20b766a0882bc41686e1" FOREIGN KEY ("agent_profile_id") REFERENCES "agent_profile"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "ipfs_file" ADD CONSTRAINT "FK_87c421c5e713a95945a0f954787" FOREIGN KEY ("contest_result_id") REFERENCES "contest_result"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "performance_update" ADD CONSTRAINT "FK_4b640cd545d44121bb656f07284" FOREIGN KEY ("node_id") REFERENCES "node_stake"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "reward_claim" ADD CONSTRAINT "FK_e8646395236ace37116864d9588" FOREIGN KEY ("node_id") REFERENCES "node_stake"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "governance_event" ADD CONSTRAINT "FK_6d2fdc3ca8e54bd84e9db10f1e1" FOREIGN KEY ("proposal_id") REFERENCES "governance_proposal"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "agent_metadata" ADD CONSTRAINT "FK_ce9129d3204bed086eb86bdb614" FOREIGN KEY ("agent_id") REFERENCES "registered_agent"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "registry_stake" ADD CONSTRAINT "FK_346faceebcf90da166ff6f81ef0" FOREIGN KEY ("agent_id") REFERENCES "registered_agent"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "tag_update" ADD CONSTRAINT "FK_ad0f179f2035c5bfb881256098f" FOREIGN KEY ("agent_id") REFERENCES "registered_agent"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "registered_agent" ADD CONSTRAINT "FK_6476989db15f4a480e7df04b24d" FOREIGN KEY ("owner_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "market_trade" ADD CONSTRAINT "FK_14f2c5aa45084d1417ecc74c761" FOREIGN KEY ("market_id") REFERENCES "prediction_market"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "market_trade" ADD CONSTRAINT "FK_954e0a989b7a085a09a4b087cba" FOREIGN KEY ("trader_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "market_position" ADD CONSTRAINT "FK_fd2ca99ba61da5163e5260f41a2" FOREIGN KEY ("market_id") REFERENCES "prediction_market"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "market_position" ADD CONSTRAINT "FK_32e5e448f5760b8f7ba1f1752fd" FOREIGN KEY ("trader_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "oracle_game" ADD CONSTRAINT "FK_58e0b1aaede1774661c015561e9" FOREIGN KEY ("market_id") REFERENCES "prediction_market"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    }

    async down(db) {
        await db.query(`DROP TABLE "decoded_event"`)
        await db.query(`DROP INDEX "public"."IDX_0e9db7b7ac80df168243c48474"`)
        await db.query(`DROP INDEX "public"."IDX_77185105499f321fd0e795bbca"`)
        await db.query(`DROP INDEX "public"."IDX_bf5e2622f23b99b17d38e22f36"`)
        await db.query(`DROP INDEX "public"."IDX_b0e68ea8c23a70dece29731f5e"`)
        await db.query(`DROP INDEX "public"."IDX_2c0a8c5038675238221fadb96c"`)
        await db.query(`DROP INDEX "public"."IDX_be2ae094620778cd2567bd4174"`)
        await db.query(`DROP TABLE "log"`)
        await db.query(`DROP INDEX "public"."IDX_d382bbcf99b71c79cde645a3d0"`)
        await db.query(`DROP INDEX "public"."IDX_68b1848887890b15828d08ad9e"`)
        await db.query(`DROP INDEX "public"."IDX_71553745ce59eeed624d01a746"`)
        await db.query(`DROP INDEX "public"."IDX_ed7d71609bd64e02354305cf42"`)
        await db.query(`DROP INDEX "public"."IDX_17e6a481f3aa53bd4913e9dc02"`)
        await db.query(`DROP INDEX "public"."IDX_7d3f5ac68148194ee7ced3032e"`)
        await db.query(`DROP INDEX "public"."IDX_b0449a324b803f171f607e9d6c"`)
        await db.query(`DROP INDEX "public"."IDX_4ce8a8e635084a1068216c94e5"`)
        await db.query(`DROP TABLE "trace"`)
        await db.query(`DROP INDEX "public"."IDX_27e95e8bb28be23c0fb964aa29"`)
        await db.query(`DROP INDEX "public"."IDX_91442dad266706f69008ed6c47"`)
        await db.query(`DROP INDEX "public"."IDX_32ac5e9db3720f2a69b517ef5e"`)
        await db.query(`DROP TABLE "transaction"`)
        await db.query(`DROP INDEX "public"."IDX_de4f0899c41c688529784bc443"`)
        await db.query(`DROP INDEX "public"."IDX_99298f25613c7c4d7c8a77f9a4"`)
        await db.query(`DROP INDEX "public"."IDX_7de44fdf7c9e64d9fd4b8a1de3"`)
        await db.query(`DROP INDEX "public"."IDX_c0e1460f3c9eee975fee81002d"`)
        await db.query(`DROP INDEX "public"."IDX_2d99bb5a0ab5fb8cf8b746eb39"`)
        await db.query(`DROP INDEX "public"."IDX_15fb86968ef04bd2a4973e51e0"`)
        await db.query(`DROP TABLE "token_transfer"`)
        await db.query(`DROP INDEX "public"."IDX_0dd22ecdb9b38e7b985c11b58c"`)
        await db.query(`DROP INDEX "public"."IDX_f62ce2d807e8c6ce2651d2ebf9"`)
        await db.query(`DROP INDEX "public"."IDX_f272327358edf76901e129ac31"`)
        await db.query(`DROP INDEX "public"."IDX_cf689fed4f031b691c31152201"`)
        await db.query(`DROP INDEX "public"."IDX_4dbddd00fdedf513899e70cc68"`)
        await db.query(`DROP INDEX "public"."IDX_df880819edb0d6a3168fde64d7"`)
        await db.query(`DROP INDEX "public"."IDX_b2bc7c264d1c698cd6147c6e1c"`)
        await db.query(`DROP INDEX "public"."IDX_752d6c330729a7b2e283003374"`)
        await db.query(`DROP TABLE "contract"`)
        await db.query(`DROP INDEX "public"."IDX_4bbe5fb40812718baf74cc9a79"`)
        await db.query(`DROP INDEX "public"."IDX_f256a32909b65e0adb69bc8839"`)
        await db.query(`DROP INDEX "public"."IDX_48017ca312ab77982b8ca4422f"`)
        await db.query(`DROP INDEX "public"."IDX_09bdbb8b82bd1041250f1dbc75"`)
        await db.query(`DROP INDEX "public"."IDX_5456de4e38984aa839245ddc39"`)
        await db.query(`DROP INDEX "public"."IDX_cb74cba29e70681683c94202cb"`)
        await db.query(`DROP TABLE "token_balance"`)
        await db.query(`DROP INDEX "public"."IDX_d4e04cd8874942b186b7a9d927"`)
        await db.query(`DROP INDEX "public"."IDX_5813c3040e74c285719679c693"`)
        await db.query(`DROP INDEX "public"."IDX_c5068d2514c0e9b35856555043"`)
        await db.query(`DROP TABLE "account"`)
        await db.query(`DROP INDEX "public"."IDX_83603c168bc00b20544539fbea"`)
        await db.query(`DROP INDEX "public"."IDX_71f0bbbb5c51d7e69d6a25dc62"`)
        await db.query(`DROP INDEX "public"."IDX_0058b87281e6a64f6db5187341"`)
        await db.query(`DROP INDEX "public"."IDX_53be5fe2df7f033360c7126819"`)
        await db.query(`DROP INDEX "public"."IDX_0e84b5731a9d2b222e7074a7e0"`)
        await db.query(`DROP INDEX "public"."IDX_9739341984f66a088a9836ba0c"`)
        await db.query(`DROP TABLE "block"`)
        await db.query(`DROP INDEX "public"."IDX_38414873c187a3e0c7943bc4c7"`)
        await db.query(`DROP INDEX "public"."IDX_5c67cbcf4960c1a39e5fe25e87"`)
        await db.query(`DROP INDEX "public"."IDX_100dd4ef3d950086231512d207"`)
        await db.query(`DROP TABLE "moderation_report"`)
        await db.query(`DROP INDEX "public"."IDX_be125b428625b84bcd37b197b6"`)
        await db.query(`DROP TABLE "tee_attestation"`)
        await db.query(`DROP INDEX "public"."IDX_47e5f1c271233ed2a320139d1f"`)
        await db.query(`DROP TABLE "nft_metadata"`)
        await db.query(`DROP INDEX "public"."IDX_1e8cf13b3e0a6894c26d0ae5a4"`)
        await db.query(`DROP TABLE "agent_profile"`)
        await db.query(`DROP INDEX "public"."IDX_445eea2e10454d2e2c967b4005"`)
        await db.query(`DROP TABLE "contest_result"`)
        await db.query(`DROP INDEX "public"."IDX_0ef7253739a30c584b3f37ecbd"`)
        await db.query(`DROP TABLE "ipfs_file"`)
        await db.query(`DROP INDEX "public"."IDX_e6b653e79d55e885c4f5551c1a"`)
        await db.query(`DROP INDEX "public"."IDX_500fdca3b8630662a4c2ecfead"`)
        await db.query(`DROP INDEX "public"."IDX_ff0daf36966bb72dc03c1da020"`)
        await db.query(`DROP INDEX "public"."IDX_af0f5490a72d1abd82dea68184"`)
        await db.query(`DROP INDEX "public"."IDX_079e66982a7a712496b3d75b91"`)
        await db.query(`DROP INDEX "public"."IDX_1ef076006e2eabe7f066ebe23f"`)
        await db.query(`DROP INDEX "public"."IDX_23f381500602e6146fe66a4f0e"`)
        await db.query(`DROP INDEX "public"."IDX_ac4fd79117cfa40c61fbea92eb"`)
        await db.query(`DROP INDEX "public"."IDX_bdf82ca32cbe38cecca75f6ffa"`)
        await db.query(`DROP INDEX "public"."IDX_606118e273f8adb3cbb986dc44"`)
        await db.query(`DROP INDEX "public"."IDX_e88fb4c20b766a0882bc41686e"`)
        await db.query(`DROP INDEX "public"."IDX_87c421c5e713a95945a0f95478"`)
        await db.query(`DROP TABLE "storage_stats"`)
        await db.query(`DROP TABLE "game_feed_post"`)
        await db.query(`DROP INDEX "public"."IDX_9733c8ccbfa07867c8965d95a1"`)
        await db.query(`DROP INDEX "public"."IDX_7b697642a8bad3c9bef3081693"`)
        await db.query(`DROP INDEX "public"."IDX_398ef3cf01ecf63d9bdcb6a703"`)
        await db.query(`DROP INDEX "public"."IDX_2c2743c93be5554ebcfcfb4276"`)
        await db.query(`DROP TABLE "game_market_update"`)
        await db.query(`DROP INDEX "public"."IDX_4af155b928a55d81c065c9d539"`)
        await db.query(`DROP INDEX "public"."IDX_b83657badb4272641de53b2395"`)
        await db.query(`DROP TABLE "game_phase_change"`)
        await db.query(`DROP INDEX "public"."IDX_2f413b3bd8018b08cc2f0601d6"`)
        await db.query(`DROP INDEX "public"."IDX_78ce386f8909008ab8c98d7466"`)
        await db.query(`DROP TABLE "player_skill_event"`)
        await db.query(`DROP INDEX "public"."IDX_6ff6cf43dc38d94616880d72f0"`)
        await db.query(`DROP INDEX "public"."IDX_57ae19b3eae46fec01510ec4fa"`)
        await db.query(`DROP TABLE "player_death_event"`)
        await db.query(`DROP INDEX "public"."IDX_a3cec8be124075f8a80a0af5f4"`)
        await db.query(`DROP INDEX "public"."IDX_3c4c65358a1c5e194d3dddf0af"`)
        await db.query(`DROP INDEX "public"."IDX_b11b138e90ca07068d21b7764f"`)
        await db.query(`DROP TABLE "player_kill_event"`)
        await db.query(`DROP INDEX "public"."IDX_2877eac0463de03b2a2fb51aed"`)
        await db.query(`DROP INDEX "public"."IDX_0d265dc59679fa5c4241b84276"`)
        await db.query(`DROP INDEX "public"."IDX_ab257b1b6ba84e435488fc66b6"`)
        await db.query(`DROP TABLE "player_achievement"`)
        await db.query(`DROP INDEX "public"."IDX_25787eb717cc5bf339780a4324"`)
        await db.query(`DROP INDEX "public"."IDX_634d8fb8831afd542471f16330"`)
        await db.query(`DROP TABLE "player_stats"`)
        await db.query(`DROP INDEX "public"."IDX_fcd6b1ef99e95fc105c1cc56ea"`)
        await db.query(`DROP INDEX "public"."IDX_de92b2fe6752a225c651ab87f2"`)
        await db.query(`DROP TABLE "performance_update"`)
        await db.query(`DROP INDEX "public"."IDX_4b640cd545d44121bb656f0728"`)
        await db.query(`DROP TABLE "reward_claim"`)
        await db.query(`DROP INDEX "public"."IDX_e8646395236ace37116864d958"`)
        await db.query(`DROP TABLE "node_stake"`)
        await db.query(`DROP INDEX "public"."IDX_56e773bd6e1ec84a57d67339f0"`)
        await db.query(`DROP INDEX "public"."IDX_a1d61208df7dd3c6022cf5c54a"`)
        await db.query(`DROP TABLE "operator_stats"`)
        await db.query(`DROP INDEX "public"."IDX_c9a991fc5837b95caf22480487"`)
        await db.query(`DROP INDEX "public"."IDX_4ba5a73049973df82b90f79b80"`)
        await db.query(`DROP TABLE "token_distribution"`)
        await db.query(`DROP INDEX "public"."IDX_c3dd12d20d8d93f9f4e4341496"`)
        await db.query(`DROP INDEX "public"."IDX_e9acf702beca899bb9c0a45912"`)
        await db.query(`DROP TABLE "network_snapshot"`)
        await db.query(`DROP INDEX "public"."IDX_8973e9e753a40203c897ae7521"`)
        await db.query(`DROP TABLE "governance_event"`)
        await db.query(`DROP INDEX "public"."IDX_6d2fdc3ca8e54bd84e9db10f1e"`)
        await db.query(`DROP TABLE "governance_proposal"`)
        await db.query(`DROP INDEX "public"."IDX_9842eb6b6123996d8d2b074251"`)
        await db.query(`DROP TABLE "agent_metadata"`)
        await db.query(`DROP INDEX "public"."IDX_ce9129d3204bed086eb86bdb61"`)
        await db.query(`DROP INDEX "public"."IDX_578260ed0d4cdb8a47cde1f4ed"`)
        await db.query(`DROP TABLE "registry_stake"`)
        await db.query(`DROP INDEX "public"."IDX_346faceebcf90da166ff6f81ef"`)
        await db.query(`DROP TABLE "tag_update"`)
        await db.query(`DROP INDEX "public"."IDX_ad0f179f2035c5bfb881256098"`)
        await db.query(`DROP INDEX "public"."IDX_612b7447c054dd16b73babef31"`)
        await db.query(`DROP TABLE "registered_agent"`)
        await db.query(`DROP INDEX "public"."IDX_fd141754f6fc3a44e3e1799248"`)
        await db.query(`DROP INDEX "public"."IDX_6476989db15f4a480e7df04b24"`)
        await db.query(`DROP INDEX "public"."IDX_9b2b620921eadc220a0651a2ed"`)
        await db.query(`DROP TABLE "market_trade"`)
        await db.query(`DROP INDEX "public"."IDX_14f2c5aa45084d1417ecc74c76"`)
        await db.query(`DROP INDEX "public"."IDX_954e0a989b7a085a09a4b087cb"`)
        await db.query(`DROP INDEX "public"."IDX_8901863bae809412c8f50a0b74"`)
        await db.query(`DROP TABLE "market_position"`)
        await db.query(`DROP INDEX "public"."IDX_fd2ca99ba61da5163e5260f41a"`)
        await db.query(`DROP INDEX "public"."IDX_32e5e448f5760b8f7ba1f1752f"`)
        await db.query(`DROP INDEX "public"."IDX_96b0f686a0079dbc0702a07305"`)
        await db.query(`DROP TABLE "prediction_market"`)
        await db.query(`DROP INDEX "public"."IDX_842d8c5916d8296345c4e7a575"`)
        await db.query(`DROP INDEX "public"."IDX_44b7012944f400b552c8763620"`)
        await db.query(`DROP INDEX "public"."IDX_102ef1e009156291d7475d2d4d"`)
        await db.query(`DROP TABLE "oracle_game"`)
        await db.query(`DROP INDEX "public"."IDX_2519b92c134d79fb25472c7d75"`)
        await db.query(`DROP INDEX "public"."IDX_fd0c0af5d12ed15649c6d3785e"`)
        await db.query(`DROP INDEX "public"."IDX_e467e7d59baff54f223e68853d"`)
        await db.query(`DROP INDEX "public"."IDX_58e0b1aaede1774661c015561e"`)
        await db.query(`DROP TABLE "market_stats"`)
        await db.query(`DROP INDEX "public"."IDX_7414c3e693fc3cb552ac7153d9"`)
        await db.query(`ALTER TABLE "decoded_event" DROP CONSTRAINT "FK_77185105499f321fd0e795bbca5"`)
        await db.query(`ALTER TABLE "decoded_event" DROP CONSTRAINT "FK_bf5e2622f23b99b17d38e22f364"`)
        await db.query(`ALTER TABLE "decoded_event" DROP CONSTRAINT "FK_b0e68ea8c23a70dece29731f5e8"`)
        await db.query(`ALTER TABLE "decoded_event" DROP CONSTRAINT "FK_2c0a8c5038675238221fadb96cf"`)
        await db.query(`ALTER TABLE "log" DROP CONSTRAINT "FK_d382bbcf99b71c79cde645a3d02"`)
        await db.query(`ALTER TABLE "log" DROP CONSTRAINT "FK_7d3f5ac68148194ee7ced3032e2"`)
        await db.query(`ALTER TABLE "log" DROP CONSTRAINT "FK_b0449a324b803f171f607e9d6ca"`)
        await db.query(`ALTER TABLE "log" DROP CONSTRAINT "FK_4ce8a8e635084a1068216c94e50"`)
        await db.query(`ALTER TABLE "trace" DROP CONSTRAINT "FK_27e95e8bb28be23c0fb964aa293"`)
        await db.query(`ALTER TABLE "trace" DROP CONSTRAINT "FK_91442dad266706f69008ed6c474"`)
        await db.query(`ALTER TABLE "trace" DROP CONSTRAINT "FK_32ac5e9db3720f2a69b517ef5e6"`)
        await db.query(`ALTER TABLE "transaction" DROP CONSTRAINT "FK_99298f25613c7c4d7c8a77f9a40"`)
        await db.query(`ALTER TABLE "transaction" DROP CONSTRAINT "FK_7de44fdf7c9e64d9fd4b8a1de36"`)
        await db.query(`ALTER TABLE "transaction" DROP CONSTRAINT "FK_c0e1460f3c9eee975fee81002dc"`)
        await db.query(`ALTER TABLE "transaction" DROP CONSTRAINT "FK_15fb86968ef04bd2a4973e51e01"`)
        await db.query(`ALTER TABLE "token_transfer" DROP CONSTRAINT "FK_f62ce2d807e8c6ce2651d2ebf97"`)
        await db.query(`ALTER TABLE "token_transfer" DROP CONSTRAINT "FK_f272327358edf76901e129ac317"`)
        await db.query(`ALTER TABLE "token_transfer" DROP CONSTRAINT "FK_cf689fed4f031b691c311522011"`)
        await db.query(`ALTER TABLE "token_transfer" DROP CONSTRAINT "FK_4dbddd00fdedf513899e70cc681"`)
        await db.query(`ALTER TABLE "token_transfer" DROP CONSTRAINT "FK_df880819edb0d6a3168fde64d71"`)
        await db.query(`ALTER TABLE "token_transfer" DROP CONSTRAINT "FK_b2bc7c264d1c698cd6147c6e1cd"`)
        await db.query(`ALTER TABLE "contract" DROP CONSTRAINT "FK_09bdbb8b82bd1041250f1dbc75f"`)
        await db.query(`ALTER TABLE "contract" DROP CONSTRAINT "FK_5456de4e38984aa839245ddc393"`)
        await db.query(`ALTER TABLE "contract" DROP CONSTRAINT "FK_cb74cba29e70681683c94202cb2"`)
        await db.query(`ALTER TABLE "token_balance" DROP CONSTRAINT "FK_d4e04cd8874942b186b7a9d927d"`)
        await db.query(`ALTER TABLE "token_balance" DROP CONSTRAINT "FK_5813c3040e74c285719679c6935"`)
        await db.query(`ALTER TABLE "account" DROP CONSTRAINT "FK_53be5fe2df7f033360c7126819c"`)
        await db.query(`ALTER TABLE "block" DROP CONSTRAINT "FK_100dd4ef3d950086231512d2071"`)
        await db.query(`ALTER TABLE "moderation_report" DROP CONSTRAINT "FK_be125b428625b84bcd37b197b68"`)
        await db.query(`ALTER TABLE "tee_attestation" DROP CONSTRAINT "FK_47e5f1c271233ed2a320139d1f9"`)
        await db.query(`ALTER TABLE "nft_metadata" DROP CONSTRAINT "FK_1e8cf13b3e0a6894c26d0ae5a4e"`)
        await db.query(`ALTER TABLE "agent_profile" DROP CONSTRAINT "FK_445eea2e10454d2e2c967b4005a"`)
        await db.query(`ALTER TABLE "contest_result" DROP CONSTRAINT "FK_0ef7253739a30c584b3f37ecbd7"`)
        await db.query(`ALTER TABLE "ipfs_file" DROP CONSTRAINT "FK_ac4fd79117cfa40c61fbea92ebc"`)
        await db.query(`ALTER TABLE "ipfs_file" DROP CONSTRAINT "FK_bdf82ca32cbe38cecca75f6ffab"`)
        await db.query(`ALTER TABLE "ipfs_file" DROP CONSTRAINT "FK_606118e273f8adb3cbb986dc443"`)
        await db.query(`ALTER TABLE "ipfs_file" DROP CONSTRAINT "FK_e88fb4c20b766a0882bc41686e1"`)
        await db.query(`ALTER TABLE "ipfs_file" DROP CONSTRAINT "FK_87c421c5e713a95945a0f954787"`)
        await db.query(`ALTER TABLE "performance_update" DROP CONSTRAINT "FK_4b640cd545d44121bb656f07284"`)
        await db.query(`ALTER TABLE "reward_claim" DROP CONSTRAINT "FK_e8646395236ace37116864d9588"`)
        await db.query(`ALTER TABLE "governance_event" DROP CONSTRAINT "FK_6d2fdc3ca8e54bd84e9db10f1e1"`)
        await db.query(`ALTER TABLE "agent_metadata" DROP CONSTRAINT "FK_ce9129d3204bed086eb86bdb614"`)
        await db.query(`ALTER TABLE "registry_stake" DROP CONSTRAINT "FK_346faceebcf90da166ff6f81ef0"`)
        await db.query(`ALTER TABLE "tag_update" DROP CONSTRAINT "FK_ad0f179f2035c5bfb881256098f"`)
        await db.query(`ALTER TABLE "registered_agent" DROP CONSTRAINT "FK_6476989db15f4a480e7df04b24d"`)
        await db.query(`ALTER TABLE "market_trade" DROP CONSTRAINT "FK_14f2c5aa45084d1417ecc74c761"`)
        await db.query(`ALTER TABLE "market_trade" DROP CONSTRAINT "FK_954e0a989b7a085a09a4b087cba"`)
        await db.query(`ALTER TABLE "market_position" DROP CONSTRAINT "FK_fd2ca99ba61da5163e5260f41a2"`)
        await db.query(`ALTER TABLE "market_position" DROP CONSTRAINT "FK_32e5e448f5760b8f7ba1f1752fd"`)
        await db.query(`ALTER TABLE "oracle_game" DROP CONSTRAINT "FK_58e0b1aaede1774661c015561e9"`)
    }
}
