module.exports = class Data1760941995807 {
    name = 'Data1760941995807'

    async up(db) {
        await db.query(`CREATE TABLE "decoded_event" ("id" character varying NOT NULL, "event_signature" text NOT NULL, "event_name" text NOT NULL, "args" jsonb NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "address_id" character varying, "block_id" character varying, "transaction_id" character varying, "log_id" character varying, CONSTRAINT "REL_2c0a8c5038675238221fadb96c" UNIQUE ("log_id"), CONSTRAINT "PK_604623cb9fbf5848619c658ed70" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_0e9db7b7ac80df168243c48474" ON "decoded_event" ("event_name") `)
        await db.query(`CREATE INDEX "IDX_77185105499f321fd0e795bbca" ON "decoded_event" ("address_id") `)
        await db.query(`CREATE INDEX "IDX_bf5e2622f23b99b17d38e22f36" ON "decoded_event" ("block_id") `)
        await db.query(`CREATE INDEX "IDX_b0e68ea8c23a70dece29731f5e" ON "decoded_event" ("transaction_id") `)
        await db.query(`CREATE UNIQUE INDEX "IDX_2c0a8c5038675238221fadb96c" ON "decoded_event" ("log_id") `)
        await db.query(`CREATE INDEX "IDX_be2ae094620778cd2567bd4174" ON "decoded_event" ("timestamp") `)
        await db.query(`CREATE TABLE "log" ("id" character varying NOT NULL, "data" text NOT NULL, "topic0" text, "topic1" text, "topic2" text, "topic3" text, "log_index" integer NOT NULL, "transaction_index" integer NOT NULL, "removed" boolean NOT NULL, "address_id" character varying, "block_id" character varying, "transaction_id" character varying, "decoded_event_id" character varying, CONSTRAINT "PK_350604cbdf991d5930d9e618fbd" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_d382bbcf99b71c79cde645a3d0" ON "log" ("address_id") `)
        await db.query(`CREATE INDEX "IDX_68b1848887890b15828d08ad9e" ON "log" ("topic0") `)
        await db.query(`CREATE INDEX "IDX_71553745ce59eeed624d01a746" ON "log" ("topic1") `)
        await db.query(`CREATE INDEX "IDX_ed7d71609bd64e02354305cf42" ON "log" ("topic2") `)
        await db.query(`CREATE INDEX "IDX_17e6a481f3aa53bd4913e9dc02" ON "log" ("topic3") `)
        await db.query(`CREATE INDEX "IDX_7d3f5ac68148194ee7ced3032e" ON "log" ("block_id") `)
        await db.query(`CREATE INDEX "IDX_b0449a324b803f171f607e9d6c" ON "log" ("transaction_id") `)
        await db.query(`CREATE INDEX "IDX_4ce8a8e635084a1068216c94e5" ON "log" ("decoded_event_id") `)
        await db.query(`CREATE TABLE "trace" ("id" character varying NOT NULL, "type" character varying(12) NOT NULL, "value" numeric, "gas" numeric, "gas_used" numeric, "input" text, "output" text, "error" text, "trace_address" integer array NOT NULL, "from_id" character varying, "to_id" character varying, "transaction_id" character varying, CONSTRAINT "PK_d55e3146ed1a9769069a83a8044" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_27e95e8bb28be23c0fb964aa29" ON "trace" ("from_id") `)
        await db.query(`CREATE INDEX "IDX_91442dad266706f69008ed6c47" ON "trace" ("to_id") `)
        await db.query(`CREATE INDEX "IDX_32ac5e9db3720f2a69b517ef5e" ON "trace" ("transaction_id") `)
        await db.query(`CREATE TABLE "transaction" ("id" character varying NOT NULL, "hash" text NOT NULL, "block_number" integer NOT NULL, "transaction_index" integer NOT NULL, "value" numeric NOT NULL, "gas_price" numeric, "gas_limit" numeric NOT NULL, "gas_used" numeric, "input" text, "nonce" integer NOT NULL, "status" character varying(7) NOT NULL, "type" integer, "max_fee_per_gas" numeric, "max_priority_fee_per_gas" numeric, "from_id" character varying, "to_id" character varying, "block_id" character varying, "contract_address_id" character varying, CONSTRAINT "PK_89eadb93a89810556e1cbcd6ab9" PRIMARY KEY ("id"))`)
        await db.query(`CREATE UNIQUE INDEX "IDX_de4f0899c41c688529784bc443" ON "transaction" ("hash") `)
        await db.query(`CREATE INDEX "IDX_99298f25613c7c4d7c8a77f9a4" ON "transaction" ("from_id") `)
        await db.query(`CREATE INDEX "IDX_7de44fdf7c9e64d9fd4b8a1de3" ON "transaction" ("to_id") `)
        await db.query(`CREATE INDEX "IDX_c0e1460f3c9eee975fee81002d" ON "transaction" ("block_id") `)
        await db.query(`CREATE INDEX "IDX_2d99bb5a0ab5fb8cf8b746eb39" ON "transaction" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_15fb86968ef04bd2a4973e51e0" ON "transaction" ("contract_address_id") `)
        await db.query(`CREATE TABLE "token_transfer" ("id" character varying NOT NULL, "log_index" integer NOT NULL, "token_standard" character varying(7) NOT NULL, "value" numeric, "token_id" character varying, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "from_id" character varying, "to_id" character varying, "operator_id" character varying, "block_id" character varying, "transaction_id" character varying, CONSTRAINT "PK_77384b7f5874553f012eba9da41" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_0dd22ecdb9b38e7b985c11b58c" ON "token_transfer" ("token_standard") `)
        await db.query(`CREATE INDEX "IDX_f62ce2d807e8c6ce2651d2ebf9" ON "token_transfer" ("from_id") `)
        await db.query(`CREATE INDEX "IDX_f272327358edf76901e129ac31" ON "token_transfer" ("to_id") `)
        await db.query(`CREATE INDEX "IDX_cf689fed4f031b691c31152201" ON "token_transfer" ("operator_id") `)
        await db.query(`CREATE INDEX "IDX_4dbddd00fdedf513899e70cc68" ON "token_transfer" ("token_id") `)
        await db.query(`CREATE INDEX "IDX_df880819edb0d6a3168fde64d7" ON "token_transfer" ("block_id") `)
        await db.query(`CREATE INDEX "IDX_b2bc7c264d1c698cd6147c6e1c" ON "token_transfer" ("transaction_id") `)
        await db.query(`CREATE INDEX "IDX_752d6c330729a7b2e283003374" ON "token_transfer" ("timestamp") `)
        await db.query(`CREATE TABLE "contract" ("id" character varying NOT NULL, "address" text NOT NULL, "bytecode" text, "contract_type" character varying(17), "is_erc20" boolean NOT NULL, "is_erc721" boolean NOT NULL, "is_erc1155" boolean NOT NULL, "is_proxy" boolean NOT NULL, "implementation_address" text, "verified" boolean NOT NULL, "first_seen_at" TIMESTAMP WITH TIME ZONE NOT NULL, "last_seen_at" TIMESTAMP WITH TIME ZONE NOT NULL, "creator_id" character varying, "creation_transaction_id" character varying, "creation_block_id" character varying, CONSTRAINT "PK_17c3a89f58a2997276084e706e8" PRIMARY KEY ("id"))`)
        await db.query(`CREATE UNIQUE INDEX "IDX_4bbe5fb40812718baf74cc9a79" ON "contract" ("address") `)
        await db.query(`CREATE INDEX "IDX_f256a32909b65e0adb69bc8839" ON "contract" ("first_seen_at") `)
        await db.query(`CREATE INDEX "IDX_48017ca312ab77982b8ca4422f" ON "contract" ("last_seen_at") `)
        await db.query(`CREATE INDEX "IDX_09bdbb8b82bd1041250f1dbc75" ON "contract" ("creator_id") `)
        await db.query(`CREATE INDEX "IDX_5456de4e38984aa839245ddc39" ON "contract" ("creation_transaction_id") `)
        await db.query(`CREATE INDEX "IDX_cb74cba29e70681683c94202cb" ON "contract" ("creation_block_id") `)
        await db.query(`CREATE TABLE "token_balance" ("id" character varying NOT NULL, "balance" numeric NOT NULL, "transfer_count" integer NOT NULL, "last_updated" TIMESTAMP WITH TIME ZONE NOT NULL, "account_id" character varying, "token_id" character varying, CONSTRAINT "PK_dc23ea262a0188977523d90ae7f" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_d4e04cd8874942b186b7a9d927" ON "token_balance" ("account_id") `)
        await db.query(`CREATE INDEX "IDX_5813c3040e74c285719679c693" ON "token_balance" ("token_id") `)
        await db.query(`CREATE INDEX "IDX_c5068d2514c0e9b35856555043" ON "token_balance" ("last_updated") `)
        await db.query(`CREATE TABLE "account" ("id" character varying NOT NULL, "address" text NOT NULL, "is_contract" boolean NOT NULL, "first_seen_block" integer NOT NULL, "last_seen_block" integer NOT NULL, "transaction_count" integer NOT NULL, "total_value_sent" numeric NOT NULL, "total_value_received" numeric NOT NULL, "labels" text array NOT NULL, "first_seen_at" TIMESTAMP WITH TIME ZONE NOT NULL, "last_seen_at" TIMESTAMP WITH TIME ZONE NOT NULL, "contract_id" character varying, CONSTRAINT "PK_54115ee388cdb6d86bb4bf5b2ea" PRIMARY KEY ("id"))`)
        await db.query(`CREATE UNIQUE INDEX "IDX_83603c168bc00b20544539fbea" ON "account" ("address") `)
        await db.query(`CREATE INDEX "IDX_71f0bbbb5c51d7e69d6a25dc62" ON "account" ("first_seen_block") `)
        await db.query(`CREATE INDEX "IDX_0058b87281e6a64f6db5187341" ON "account" ("last_seen_block") `)
        await db.query(`CREATE INDEX "IDX_53be5fe2df7f033360c7126819" ON "account" ("contract_id") `)
        await db.query(`CREATE INDEX "IDX_0e84b5731a9d2b222e7074a7e0" ON "account" ("first_seen_at") `)
        await db.query(`CREATE INDEX "IDX_9739341984f66a088a9836ba0c" ON "account" ("last_seen_at") `)
        await db.query(`CREATE TABLE "block" ("id" character varying NOT NULL, "number" integer NOT NULL, "hash" text NOT NULL, "parent_hash" text NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "transaction_count" integer NOT NULL, "gas_used" numeric NOT NULL, "gas_limit" numeric NOT NULL, "base_fee_per_gas" numeric, "size" integer NOT NULL, "miner_id" character varying, CONSTRAINT "PK_d0925763efb591c2e2ffb267572" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_38414873c187a3e0c7943bc4c7" ON "block" ("number") `)
        await db.query(`CREATE INDEX "IDX_5c67cbcf4960c1a39e5fe25e87" ON "block" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_100dd4ef3d950086231512d207" ON "block" ("miner_id") `)
        await db.query(`CREATE TABLE "moderation_report" ("id" character varying NOT NULL, "report_id" numeric NOT NULL, "target_agent_id" numeric NOT NULL, "reporter" bytea NOT NULL, "report_type" character varying(13) NOT NULL, "severity" character varying(8) NOT NULL, "details" text NOT NULL, "status" character varying(12) NOT NULL, "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "evidence_ipfs_id" character varying, CONSTRAINT "PK_ebc1deefdbd04c7722708b44907" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_be125b428625b84bcd37b197b6" ON "moderation_report" ("evidence_ipfs_id") `)
        await db.query(`CREATE TABLE "tee_attestation" ("id" character varying NOT NULL, "session_id" bytea NOT NULL, "content_hash" bytea NOT NULL, "game_type" character varying(10) NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "verified" boolean NOT NULL, "attestation_ipfs_id" character varying, CONSTRAINT "PK_1b3f9a6a7a9f99cb17b063df249" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_47e5f1c271233ed2a320139d1f" ON "tee_attestation" ("attestation_ipfs_id") `)
        await db.query(`CREATE TABLE "nft_metadata" ("id" character varying NOT NULL, "token_id" numeric NOT NULL, "contract" bytea NOT NULL, "owner" bytea NOT NULL, "minted_at" TIMESTAMP WITH TIME ZONE NOT NULL, "metadata_ipfs_id" character varying, CONSTRAINT "PK_c36d2ea36d7de5e265c30b8be80" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_1e8cf13b3e0a6894c26d0ae5a4" ON "nft_metadata" ("metadata_ipfs_id") `)
        await db.query(`CREATE TABLE "agent_profile" ("id" character varying NOT NULL, "agent_id" numeric NOT NULL, "owner" bytea NOT NULL, "stake_tier" integer NOT NULL, "registered" TIMESTAMP WITH TIME ZONE NOT NULL, "is_banned" boolean NOT NULL, "profile_ipfs_id" character varying, CONSTRAINT "PK_7890ede0822be6d765828a5986e" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_445eea2e10454d2e2c967b4005" ON "agent_profile" ("profile_ipfs_id") `)
        await db.query(`CREATE TABLE "contest_result" ("id" character varying NOT NULL, "contest_id" bytea NOT NULL, "winner" integer NOT NULL, "finalized" TIMESTAMP WITH TIME ZONE NOT NULL, "results_ipfs_id" character varying, CONSTRAINT "PK_4619341588a3af258c65814733a" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_0ef7253739a30c584b3f37ecbd" ON "contest_result" ("results_ipfs_id") `)
        await db.query(`CREATE TABLE "ipfs_file" ("id" character varying NOT NULL, "cid" text NOT NULL, "owner" bytea NOT NULL, "size_bytes" numeric NOT NULL, "paid_amount" numeric NOT NULL, "payment_token" bytea NOT NULL, "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "expires_at" TIMESTAMP WITH TIME ZONE NOT NULL, "is_pinned" boolean NOT NULL, "category" character varying(19) NOT NULL, "related_contract" bytea, "related_entity_id" text, "filename" text, "mime_type" text, "moderation_report_id" character varying, "tee_attestation_id" character varying, "nft_metadata_id" character varying, "agent_profile_id" character varying, "contest_result_id" character varying, CONSTRAINT "PK_d45fb79e60961d138247eb5552e" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_e6b653e79d55e885c4f5551c1a" ON "ipfs_file" ("cid") `)
        await db.query(`CREATE INDEX "IDX_500fdca3b8630662a4c2ecfead" ON "ipfs_file" ("owner") `)
        await db.query(`CREATE INDEX "IDX_ff0daf36966bb72dc03c1da020" ON "ipfs_file" ("created_at") `)
        await db.query(`CREATE INDEX "IDX_af0f5490a72d1abd82dea68184" ON "ipfs_file" ("expires_at") `)
        await db.query(`CREATE INDEX "IDX_079e66982a7a712496b3d75b91" ON "ipfs_file" ("category") `)
        await db.query(`CREATE INDEX "IDX_1ef076006e2eabe7f066ebe23f" ON "ipfs_file" ("related_contract") `)
        await db.query(`CREATE INDEX "IDX_23f381500602e6146fe66a4f0e" ON "ipfs_file" ("related_entity_id") `)
        await db.query(`CREATE INDEX "IDX_ac4fd79117cfa40c61fbea92eb" ON "ipfs_file" ("moderation_report_id") `)
        await db.query(`CREATE INDEX "IDX_bdf82ca32cbe38cecca75f6ffa" ON "ipfs_file" ("tee_attestation_id") `)
        await db.query(`CREATE INDEX "IDX_606118e273f8adb3cbb986dc44" ON "ipfs_file" ("nft_metadata_id") `)
        await db.query(`CREATE INDEX "IDX_e88fb4c20b766a0882bc41686e" ON "ipfs_file" ("agent_profile_id") `)
        await db.query(`CREATE INDEX "IDX_87c421c5e713a95945a0f95478" ON "ipfs_file" ("contest_result_id") `)
        await db.query(`CREATE TABLE "storage_stats" ("id" character varying NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "total_files" numeric NOT NULL, "total_size_bytes" numeric NOT NULL, "total_revenue" numeric NOT NULL, "active_users" numeric NOT NULL, "evidence_files" numeric NOT NULL, "attestation_files" numeric NOT NULL, "asset_files" numeric NOT NULL, "metadata_files" numeric NOT NULL, CONSTRAINT "PK_8a714fe62648c7dc502f0855d40" PRIMARY KEY ("id"))`)
        await db.query(`ALTER TABLE "decoded_event" ADD CONSTRAINT "FK_77185105499f321fd0e795bbca5" FOREIGN KEY ("address_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "decoded_event" ADD CONSTRAINT "FK_bf5e2622f23b99b17d38e22f364" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "decoded_event" ADD CONSTRAINT "FK_b0e68ea8c23a70dece29731f5e8" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "decoded_event" ADD CONSTRAINT "FK_2c0a8c5038675238221fadb96cf" FOREIGN KEY ("log_id") REFERENCES "log"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "log" ADD CONSTRAINT "FK_d382bbcf99b71c79cde645a3d02" FOREIGN KEY ("address_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "log" ADD CONSTRAINT "FK_7d3f5ac68148194ee7ced3032e2" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "log" ADD CONSTRAINT "FK_b0449a324b803f171f607e9d6ca" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "log" ADD CONSTRAINT "FK_4ce8a8e635084a1068216c94e50" FOREIGN KEY ("decoded_event_id") REFERENCES "decoded_event"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "trace" ADD CONSTRAINT "FK_27e95e8bb28be23c0fb964aa293" FOREIGN KEY ("from_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "trace" ADD CONSTRAINT "FK_91442dad266706f69008ed6c474" FOREIGN KEY ("to_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "trace" ADD CONSTRAINT "FK_32ac5e9db3720f2a69b517ef5e6" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transaction" ADD CONSTRAINT "FK_99298f25613c7c4d7c8a77f9a40" FOREIGN KEY ("from_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transaction" ADD CONSTRAINT "FK_7de44fdf7c9e64d9fd4b8a1de36" FOREIGN KEY ("to_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transaction" ADD CONSTRAINT "FK_c0e1460f3c9eee975fee81002dc" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transaction" ADD CONSTRAINT "FK_15fb86968ef04bd2a4973e51e01" FOREIGN KEY ("contract_address_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_transfer" ADD CONSTRAINT "FK_f62ce2d807e8c6ce2651d2ebf97" FOREIGN KEY ("from_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_transfer" ADD CONSTRAINT "FK_f272327358edf76901e129ac317" FOREIGN KEY ("to_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_transfer" ADD CONSTRAINT "FK_cf689fed4f031b691c311522011" FOREIGN KEY ("operator_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_transfer" ADD CONSTRAINT "FK_4dbddd00fdedf513899e70cc681" FOREIGN KEY ("token_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_transfer" ADD CONSTRAINT "FK_df880819edb0d6a3168fde64d71" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_transfer" ADD CONSTRAINT "FK_b2bc7c264d1c698cd6147c6e1cd" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "contract" ADD CONSTRAINT "FK_09bdbb8b82bd1041250f1dbc75f" FOREIGN KEY ("creator_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "contract" ADD CONSTRAINT "FK_5456de4e38984aa839245ddc393" FOREIGN KEY ("creation_transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "contract" ADD CONSTRAINT "FK_cb74cba29e70681683c94202cb2" FOREIGN KEY ("creation_block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_balance" ADD CONSTRAINT "FK_d4e04cd8874942b186b7a9d927d" FOREIGN KEY ("account_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_balance" ADD CONSTRAINT "FK_5813c3040e74c285719679c6935" FOREIGN KEY ("token_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "account" ADD CONSTRAINT "FK_53be5fe2df7f033360c7126819c" FOREIGN KEY ("contract_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "block" ADD CONSTRAINT "FK_100dd4ef3d950086231512d2071" FOREIGN KEY ("miner_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "moderation_report" ADD CONSTRAINT "FK_be125b428625b84bcd37b197b68" FOREIGN KEY ("evidence_ipfs_id") REFERENCES "ipfs_file"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "tee_attestation" ADD CONSTRAINT "FK_47e5f1c271233ed2a320139d1f9" FOREIGN KEY ("attestation_ipfs_id") REFERENCES "ipfs_file"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nft_metadata" ADD CONSTRAINT "FK_1e8cf13b3e0a6894c26d0ae5a4e" FOREIGN KEY ("metadata_ipfs_id") REFERENCES "ipfs_file"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "agent_profile" ADD CONSTRAINT "FK_445eea2e10454d2e2c967b4005a" FOREIGN KEY ("profile_ipfs_id") REFERENCES "ipfs_file"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "contest_result" ADD CONSTRAINT "FK_0ef7253739a30c584b3f37ecbd7" FOREIGN KEY ("results_ipfs_id") REFERENCES "ipfs_file"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "ipfs_file" ADD CONSTRAINT "FK_ac4fd79117cfa40c61fbea92ebc" FOREIGN KEY ("moderation_report_id") REFERENCES "moderation_report"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "ipfs_file" ADD CONSTRAINT "FK_bdf82ca32cbe38cecca75f6ffab" FOREIGN KEY ("tee_attestation_id") REFERENCES "tee_attestation"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "ipfs_file" ADD CONSTRAINT "FK_606118e273f8adb3cbb986dc443" FOREIGN KEY ("nft_metadata_id") REFERENCES "nft_metadata"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "ipfs_file" ADD CONSTRAINT "FK_e88fb4c20b766a0882bc41686e1" FOREIGN KEY ("agent_profile_id") REFERENCES "agent_profile"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "ipfs_file" ADD CONSTRAINT "FK_87c421c5e713a95945a0f954787" FOREIGN KEY ("contest_result_id") REFERENCES "contest_result"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    }

    async down(db) {
        await db.query(`DROP TABLE "decoded_event"`)
        await db.query(`DROP INDEX "public"."IDX_0e9db7b7ac80df168243c48474"`)
        await db.query(`DROP INDEX "public"."IDX_77185105499f321fd0e795bbca"`)
        await db.query(`DROP INDEX "public"."IDX_bf5e2622f23b99b17d38e22f36"`)
        await db.query(`DROP INDEX "public"."IDX_b0e68ea8c23a70dece29731f5e"`)
        await db.query(`DROP INDEX "public"."IDX_2c0a8c5038675238221fadb96c"`)
        await db.query(`DROP INDEX "public"."IDX_be2ae094620778cd2567bd4174"`)
        await db.query(`DROP TABLE "log"`)
        await db.query(`DROP INDEX "public"."IDX_d382bbcf99b71c79cde645a3d0"`)
        await db.query(`DROP INDEX "public"."IDX_68b1848887890b15828d08ad9e"`)
        await db.query(`DROP INDEX "public"."IDX_71553745ce59eeed624d01a746"`)
        await db.query(`DROP INDEX "public"."IDX_ed7d71609bd64e02354305cf42"`)
        await db.query(`DROP INDEX "public"."IDX_17e6a481f3aa53bd4913e9dc02"`)
        await db.query(`DROP INDEX "public"."IDX_7d3f5ac68148194ee7ced3032e"`)
        await db.query(`DROP INDEX "public"."IDX_b0449a324b803f171f607e9d6c"`)
        await db.query(`DROP INDEX "public"."IDX_4ce8a8e635084a1068216c94e5"`)
        await db.query(`DROP TABLE "trace"`)
        await db.query(`DROP INDEX "public"."IDX_27e95e8bb28be23c0fb964aa29"`)
        await db.query(`DROP INDEX "public"."IDX_91442dad266706f69008ed6c47"`)
        await db.query(`DROP INDEX "public"."IDX_32ac5e9db3720f2a69b517ef5e"`)
        await db.query(`DROP TABLE "transaction"`)
        await db.query(`DROP INDEX "public"."IDX_de4f0899c41c688529784bc443"`)
        await db.query(`DROP INDEX "public"."IDX_99298f25613c7c4d7c8a77f9a4"`)
        await db.query(`DROP INDEX "public"."IDX_7de44fdf7c9e64d9fd4b8a1de3"`)
        await db.query(`DROP INDEX "public"."IDX_c0e1460f3c9eee975fee81002d"`)
        await db.query(`DROP INDEX "public"."IDX_2d99bb5a0ab5fb8cf8b746eb39"`)
        await db.query(`DROP INDEX "public"."IDX_15fb86968ef04bd2a4973e51e0"`)
        await db.query(`DROP TABLE "token_transfer"`)
        await db.query(`DROP INDEX "public"."IDX_0dd22ecdb9b38e7b985c11b58c"`)
        await db.query(`DROP INDEX "public"."IDX_f62ce2d807e8c6ce2651d2ebf9"`)
        await db.query(`DROP INDEX "public"."IDX_f272327358edf76901e129ac31"`)
        await db.query(`DROP INDEX "public"."IDX_cf689fed4f031b691c31152201"`)
        await db.query(`DROP INDEX "public"."IDX_4dbddd00fdedf513899e70cc68"`)
        await db.query(`DROP INDEX "public"."IDX_df880819edb0d6a3168fde64d7"`)
        await db.query(`DROP INDEX "public"."IDX_b2bc7c264d1c698cd6147c6e1c"`)
        await db.query(`DROP INDEX "public"."IDX_752d6c330729a7b2e283003374"`)
        await db.query(`DROP TABLE "contract"`)
        await db.query(`DROP INDEX "public"."IDX_4bbe5fb40812718baf74cc9a79"`)
        await db.query(`DROP INDEX "public"."IDX_f256a32909b65e0adb69bc8839"`)
        await db.query(`DROP INDEX "public"."IDX_48017ca312ab77982b8ca4422f"`)
        await db.query(`DROP INDEX "public"."IDX_09bdbb8b82bd1041250f1dbc75"`)
        await db.query(`DROP INDEX "public"."IDX_5456de4e38984aa839245ddc39"`)
        await db.query(`DROP INDEX "public"."IDX_cb74cba29e70681683c94202cb"`)
        await db.query(`DROP TABLE "token_balance"`)
        await db.query(`DROP INDEX "public"."IDX_d4e04cd8874942b186b7a9d927"`)
        await db.query(`DROP INDEX "public"."IDX_5813c3040e74c285719679c693"`)
        await db.query(`DROP INDEX "public"."IDX_c5068d2514c0e9b35856555043"`)
        await db.query(`DROP TABLE "account"`)
        await db.query(`DROP INDEX "public"."IDX_83603c168bc00b20544539fbea"`)
        await db.query(`DROP INDEX "public"."IDX_71f0bbbb5c51d7e69d6a25dc62"`)
        await db.query(`DROP INDEX "public"."IDX_0058b87281e6a64f6db5187341"`)
        await db.query(`DROP INDEX "public"."IDX_53be5fe2df7f033360c7126819"`)
        await db.query(`DROP INDEX "public"."IDX_0e84b5731a9d2b222e7074a7e0"`)
        await db.query(`DROP INDEX "public"."IDX_9739341984f66a088a9836ba0c"`)
        await db.query(`DROP TABLE "block"`)
        await db.query(`DROP INDEX "public"."IDX_38414873c187a3e0c7943bc4c7"`)
        await db.query(`DROP INDEX "public"."IDX_5c67cbcf4960c1a39e5fe25e87"`)
        await db.query(`DROP INDEX "public"."IDX_100dd4ef3d950086231512d207"`)
        await db.query(`DROP TABLE "moderation_report"`)
        await db.query(`DROP INDEX "public"."IDX_be125b428625b84bcd37b197b6"`)
        await db.query(`DROP TABLE "tee_attestation"`)
        await db.query(`DROP INDEX "public"."IDX_47e5f1c271233ed2a320139d1f"`)
        await db.query(`DROP TABLE "nft_metadata"`)
        await db.query(`DROP INDEX "public"."IDX_1e8cf13b3e0a6894c26d0ae5a4"`)
        await db.query(`DROP TABLE "agent_profile"`)
        await db.query(`DROP INDEX "public"."IDX_445eea2e10454d2e2c967b4005"`)
        await db.query(`DROP TABLE "contest_result"`)
        await db.query(`DROP INDEX "public"."IDX_0ef7253739a30c584b3f37ecbd"`)
        await db.query(`DROP TABLE "ipfs_file"`)
        await db.query(`DROP INDEX "public"."IDX_e6b653e79d55e885c4f5551c1a"`)
        await db.query(`DROP INDEX "public"."IDX_500fdca3b8630662a4c2ecfead"`)
        await db.query(`DROP INDEX "public"."IDX_ff0daf36966bb72dc03c1da020"`)
        await db.query(`DROP INDEX "public"."IDX_af0f5490a72d1abd82dea68184"`)
        await db.query(`DROP INDEX "public"."IDX_079e66982a7a712496b3d75b91"`)
        await db.query(`DROP INDEX "public"."IDX_1ef076006e2eabe7f066ebe23f"`)
        await db.query(`DROP INDEX "public"."IDX_23f381500602e6146fe66a4f0e"`)
        await db.query(`DROP INDEX "public"."IDX_ac4fd79117cfa40c61fbea92eb"`)
        await db.query(`DROP INDEX "public"."IDX_bdf82ca32cbe38cecca75f6ffa"`)
        await db.query(`DROP INDEX "public"."IDX_606118e273f8adb3cbb986dc44"`)
        await db.query(`DROP INDEX "public"."IDX_e88fb4c20b766a0882bc41686e"`)
        await db.query(`DROP INDEX "public"."IDX_87c421c5e713a95945a0f95478"`)
        await db.query(`DROP TABLE "storage_stats"`)
        await db.query(`ALTER TABLE "decoded_event" DROP CONSTRAINT "FK_77185105499f321fd0e795bbca5"`)
        await db.query(`ALTER TABLE "decoded_event" DROP CONSTRAINT "FK_bf5e2622f23b99b17d38e22f364"`)
        await db.query(`ALTER TABLE "decoded_event" DROP CONSTRAINT "FK_b0e68ea8c23a70dece29731f5e8"`)
        await db.query(`ALTER TABLE "decoded_event" DROP CONSTRAINT "FK_2c0a8c5038675238221fadb96cf"`)
        await db.query(`ALTER TABLE "log" DROP CONSTRAINT "FK_d382bbcf99b71c79cde645a3d02"`)
        await db.query(`ALTER TABLE "log" DROP CONSTRAINT "FK_7d3f5ac68148194ee7ced3032e2"`)
        await db.query(`ALTER TABLE "log" DROP CONSTRAINT "FK_b0449a324b803f171f607e9d6ca"`)
        await db.query(`ALTER TABLE "log" DROP CONSTRAINT "FK_4ce8a8e635084a1068216c94e50"`)
        await db.query(`ALTER TABLE "trace" DROP CONSTRAINT "FK_27e95e8bb28be23c0fb964aa293"`)
        await db.query(`ALTER TABLE "trace" DROP CONSTRAINT "FK_91442dad266706f69008ed6c474"`)
        await db.query(`ALTER TABLE "trace" DROP CONSTRAINT "FK_32ac5e9db3720f2a69b517ef5e6"`)
        await db.query(`ALTER TABLE "transaction" DROP CONSTRAINT "FK_99298f25613c7c4d7c8a77f9a40"`)
        await db.query(`ALTER TABLE "transaction" DROP CONSTRAINT "FK_7de44fdf7c9e64d9fd4b8a1de36"`)
        await db.query(`ALTER TABLE "transaction" DROP CONSTRAINT "FK_c0e1460f3c9eee975fee81002dc"`)
        await db.query(`ALTER TABLE "transaction" DROP CONSTRAINT "FK_15fb86968ef04bd2a4973e51e01"`)
        await db.query(`ALTER TABLE "token_transfer" DROP CONSTRAINT "FK_f62ce2d807e8c6ce2651d2ebf97"`)
        await db.query(`ALTER TABLE "token_transfer" DROP CONSTRAINT "FK_f272327358edf76901e129ac317"`)
        await db.query(`ALTER TABLE "token_transfer" DROP CONSTRAINT "FK_cf689fed4f031b691c311522011"`)
        await db.query(`ALTER TABLE "token_transfer" DROP CONSTRAINT "FK_4dbddd00fdedf513899e70cc681"`)
        await db.query(`ALTER TABLE "token_transfer" DROP CONSTRAINT "FK_df880819edb0d6a3168fde64d71"`)
        await db.query(`ALTER TABLE "token_transfer" DROP CONSTRAINT "FK_b2bc7c264d1c698cd6147c6e1cd"`)
        await db.query(`ALTER TABLE "contract" DROP CONSTRAINT "FK_09bdbb8b82bd1041250f1dbc75f"`)
        await db.query(`ALTER TABLE "contract" DROP CONSTRAINT "FK_5456de4e38984aa839245ddc393"`)
        await db.query(`ALTER TABLE "contract" DROP CONSTRAINT "FK_cb74cba29e70681683c94202cb2"`)
        await db.query(`ALTER TABLE "token_balance" DROP CONSTRAINT "FK_d4e04cd8874942b186b7a9d927d"`)
        await db.query(`ALTER TABLE "token_balance" DROP CONSTRAINT "FK_5813c3040e74c285719679c6935"`)
        await db.query(`ALTER TABLE "account" DROP CONSTRAINT "FK_53be5fe2df7f033360c7126819c"`)
        await db.query(`ALTER TABLE "block" DROP CONSTRAINT "FK_100dd4ef3d950086231512d2071"`)
        await db.query(`ALTER TABLE "moderation_report" DROP CONSTRAINT "FK_be125b428625b84bcd37b197b68"`)
        await db.query(`ALTER TABLE "tee_attestation" DROP CONSTRAINT "FK_47e5f1c271233ed2a320139d1f9"`)
        await db.query(`ALTER TABLE "nft_metadata" DROP CONSTRAINT "FK_1e8cf13b3e0a6894c26d0ae5a4e"`)
        await db.query(`ALTER TABLE "agent_profile" DROP CONSTRAINT "FK_445eea2e10454d2e2c967b4005a"`)
        await db.query(`ALTER TABLE "contest_result" DROP CONSTRAINT "FK_0ef7253739a30c584b3f37ecbd7"`)
        await db.query(`ALTER TABLE "ipfs_file" DROP CONSTRAINT "FK_ac4fd79117cfa40c61fbea92ebc"`)
        await db.query(`ALTER TABLE "ipfs_file" DROP CONSTRAINT "FK_bdf82ca32cbe38cecca75f6ffab"`)
        await db.query(`ALTER TABLE "ipfs_file" DROP CONSTRAINT "FK_606118e273f8adb3cbb986dc443"`)
        await db.query(`ALTER TABLE "ipfs_file" DROP CONSTRAINT "FK_e88fb4c20b766a0882bc41686e1"`)
        await db.query(`ALTER TABLE "ipfs_file" DROP CONSTRAINT "FK_87c421c5e713a95945a0f954787"`)
    }
}
