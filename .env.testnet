# ============================================================
# Jeju Network - AWS Testnet Environment Configuration
# ============================================================
# Complete this file before deploying to AWS testnet
# Replace all TODO_ prefixed values with your actual configuration

# ============================================================
# AWS INFRASTRUCTURE
# ============================================================
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=TODO_YOUR_AWS_ACCOUNT_ID  # Run: aws sts get-caller-identity --query Account --output text
ENVIRONMENT=testnet

# EKS Cluster (auto-named by Terraform)
EKS_CLUSTER_NAME=jeju-testnet-eks
EKS_CLUSTER_REGION=us-east-1

# ECR Registry (auto-populated)
ECR_REGISTRY=${AWS_ACCOUNT_ID}.dkr.ecr.${AWS_REGION}.amazonaws.com

# Domain Configuration  
DOMAIN_NAME=jeju.network
TESTNET_SUBDOMAIN=testnet

# ACM Certificate (get from AWS after requesting in us-east-1)
ACM_CERTIFICATE_ARN=TODO_arn:aws:acm:us-east-1:ACCOUNT:certificate/CERT_ID

# ============================================================
# BLOCKCHAIN NETWORK
# ============================================================
JEJU_NETWORK=testnet
JEJU_CHAIN_ID=420690
JEJU_L1_CHAIN_ID=84532

# RPC Endpoints (live after deployment)
JEJU_RPC_URL=https://rpc.testnet.jeju.network
JEJU_WS_URL=wss://ws.testnet.jeju.network
JEJU_L1_RPC_URL=https://sepolia.base.org

# Deployer Wallet (NEVER COMMIT THIS FILE TO GIT!)
DEPLOYER_PRIVATE_KEY=TODO_0xYOUR_PRIVATE_KEY
DEPLOYER_ADDRESS=TODO_0xYOUR_ADDRESS

# ============================================================
# DATABASE (RDS - Set after Terraform deployment)
# ============================================================
RDS_ENDPOINT=TODO_FROM_TERRAFORM_OUTPUT
DATABASE_PASSWORD=TODO_GENERATE_WITH_openssl_rand_base64_32

LEADERBOARD_DATABASE_URL=postgresql://leaderboard:${DATABASE_PASSWORD}@${RDS_ENDPOINT}:5432/leaderboard
INDEXER_DATABASE_URL=postgresql://indexer:${DATABASE_PASSWORD}@${RDS_ENDPOINT}:5432/indexer
CRUCIBLE_DATABASE_URL=postgresql://crucible:${DATABASE_PASSWORD}@${RDS_ENDPOINT}:5432/crucible

# ============================================================
# AI API KEYS (Required)
# ============================================================
OPENAI_API_KEY=TODO_sk_YOUR_KEY  # Get from: platform.openai.com
ANTHROPIC_API_KEY=TODO_sk_ant_YOUR_KEY  # Optional, get from: console.anthropic.com
OPENROUTER_API_KEY=TODO_sk_or_YOUR_KEY  # Get from: openrouter.ai
PERPLEXITY_API_KEY=TODO_pplx_YOUR_KEY  # Optional, get from: perplexity.ai

# ============================================================
# GITHUB (Leaderboard)
# ============================================================
GITHUB_TOKEN=TODO_ghp_YOUR_TOKEN  # Get from: github.com/settings/tokens (repo scope)
GITHUB_OWNER=JejuNetwork
GITHUB_REPO=jeju

# ============================================================
# EXTERNAL SERVICES
# ============================================================
BASESCAN_API_KEY=TODO_YOUR_KEY  # Get from: basescan.org (free)
WALLETCONNECT_PROJECT_ID=TODO_YOUR_PROJECT_ID  # Get from: cloud.walletconnect.com

# ============================================================
# APPLICATION PORTS
# ============================================================
BAZAAR_PORT=4006
GATEWAY_PORT=4001
COMPUTE_PORT=4007
COMPUTE_NODE_API_PORT=4008
LEADERBOARD_PORT=5012
IPFS_PORT=5020
CRUCIBLE_PORT=7777
EHORSE_PORT=5700

# ============================================================
# SECURITY (Generate these!)
# ============================================================
SESSION_SECRET=TODO_GENERATE  # Run: openssl rand -base64 32
JWT_SECRET=TODO_GENERATE  # Run: openssl rand -base64 32
GRAFANA_ADMIN_PASSWORD=TODO_GENERATE  # Run: openssl rand -base64 20

# CORS
ALLOWED_ORIGINS=https://bazaar.testnet.jeju.network,https://gateway.testnet.jeju.network

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================
# FEATURE FLAGS
# ============================================================
ENABLE_PAYMASTER=true
ENABLE_REGISTRY=true
ENABLE_PREDICTION_MARKETS=true
ENABLE_GAMES=true
ENABLE_MONITORING=true

# ============================================================
# LOGGING
# ============================================================
LOG_LEVEL=info
NODE_ENV=production
NEXT_TELEMETRY_DISABLED=1

# ============================================================
# SMART CONTRACT ADDRESSES (Set after deployment)
# ============================================================
IDENTITY_REGISTRY_ADDRESS=
REPUTATION_REGISTRY_ADDRESS=
VALIDATION_REGISTRY_ADDRESS=
LIQUIDITY_VAULT_ADDRESS=
FEE_DISTRIBUTOR_ADDRESS=
PRICE_ORACLE_ADDRESS=
LIQUIDITY_PAYMASTER_ADDRESS=
ELIZAOS_TOKEN_ADDRESS=
BAZAAR_MARKETPLACE_ADDRESS=
GOLD_TOKEN_ADDRESS=
ITEMS_NFT_ADDRESS=
PREDIMARKET_ADDRESS=

# Compute Marketplace Contracts
COMPUTE_REGISTRY_ADDRESS=
LEDGER_MANAGER_ADDRESS=
INFERENCE_SERVING_ADDRESS=
COMPUTE_STAKING_ADDRESS=

# ============================================================
# OPEN INTENTS FRAMEWORK (OIF)
# ============================================================

# OIF Service Ports
OIF_AGGREGATOR_PORT=4010
OIF_AGGREGATOR_WS_PORT=4012
OIF_SOLVER_PORT=4011

# Oracle Configuration (simple, hyperlane, or superchain)
OIF_ORACLE_TYPE=simple

# Hyperlane Configuration (if using hyperlane oracle)
HYPERLANE_MAILBOX_BASE_SEPOLIA=0x6966b0E55883d49BFB24539356a2f8A673E02039
HYPERLANE_ISM_BASE_SEPOLIA=

# Jeju Network OIF Contracts (set after deployment)
OIF_SOLVER_REGISTRY_420690=
OIF_ORACLE_420690=
OIF_INPUT_SETTLER_420690=
OIF_OUTPUT_SETTLER_420690=

# Base Sepolia OIF Contracts (set after deployment)
OIF_SOLVER_REGISTRY_84532=
OIF_ORACLE_84532=
OIF_INPUT_SETTLER_84532=
OIF_OUTPUT_SETTLER_84532=

# Solver Configuration
OIF_SOLVER_PRIVATE_KEY=TODO_0xYOUR_SOLVER_PRIVATE_KEY
OIF_SOLVER_MIN_PROFIT_BPS=50
OIF_SOLVER_MAX_SLIPPAGE_BPS=100

# Supported Chains (comma-separated chain IDs)
OIF_SUPPORTED_CHAINS=420690,84532

# RPC URLs for cross-chain operations (can reuse existing or add more)
OIF_RPC_84532=${JEJU_L1_RPC_URL}
OIF_RPC_420690=${JEJU_RPC_URL}

# ============================================================
# QUICK SETUP GUIDE
# ============================================================
#
# 1. Replace TODO_ values (14 items):
#    - AWS_ACCOUNT_ID (aws sts get-caller-identity)
#    - ACM_CERTIFICATE_ARN (after requesting cert)
#    - DEPLOYER_PRIVATE_KEY + ADDRESS
#    - DATABASE_PASSWORD (openssl rand -base64 32)
#    - All API keys (OpenAI, OpenRouter, GitHub, Basescan, WalletConnect)
#    - All security secrets (3x openssl commands)
#
# 2. After Terraform deployment, update:
#    - RDS_ENDPOINT (terraform output)
#
# 3. After contract deployment, update:
#    - All contract addresses (from deployments/testnet/*.json)
#
# See: docs/AWS_DEPLOYMENT_RUNBOOK.md for complete guide
#
