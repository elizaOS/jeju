# Jeju L3 Localnet Configuration for Indexer
# Copy this file to .env.local and update with your deployed contract addresses

# ============================================================================
# Network Configuration
# ============================================================================

# RPC endpoint for blockchain data
RPC_URL=http://localhost:8545

# WebSocket endpoint (optional, for real-time updates)
# WS_URL=ws://localhost:8546

# Chain ID
CHAIN_ID=420691

# Starting block for indexing (0 = from genesis)
START_BLOCK=0

# ============================================================================
# Contract Addresses (UPDATE AFTER DEPLOYMENT)
# ============================================================================

# JejuMarket contract to index
JEJU_MARKET_ADDRESS=DEPLOY_REQUIRED

# PredictionOracle contract to index
PREDICTION_ORACLE_ADDRESS=DEPLOY_REQUIRED

# ElizaOS Token contract to track
ELIZA_TOKEN_ADDRESS=DEPLOY_REQUIRED

# Uniswap V4 PoolManager (if indexing DEX data)
UNISWAP_V4_POOL_MANAGER=DEPLOY_REQUIRED

# ============================================================================
# Database Configuration
# ============================================================================

# PostgreSQL connection string
DATABASE_URL=postgresql://localhost:5432/jeju_indexer_local

# Database pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10

# ============================================================================
# Indexer Settings
# ============================================================================

# Polling interval in milliseconds
POLL_INTERVAL=2000

# Batch size for processing blocks
BATCH_SIZE=100

# Number of confirmations before considering block final
CONFIRMATIONS=1

# ============================================================================
# API Server (if exposed)
# ============================================================================

# Port for GraphQL/REST API
PORT=4350

# CORS origins
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# ============================================================================
# Logging
# ============================================================================

# Log level: debug, info, warn, error
LOG_LEVEL=debug

# Log format: json, pretty
LOG_FORMAT=pretty

# ============================================================================
# Event ABIs to Index
# ============================================================================

# Path to ABI files (if needed)
ABI_PATH=./abi

# Specific events to index (comma-separated)
# EVENTS_TO_INDEX=MarketCreated,SharesPurchased,SharesSold,MarketResolved

# ============================================================================
# Performance
# ============================================================================

# Enable caching
ENABLE_CACHE=true

# Cache TTL in seconds
CACHE_TTL=60

# Enable metrics collection
ENABLE_METRICS=true

# ============================================================================
# Development
# ============================================================================

# Enable debug mode
DEBUG=true

# Hot reload
HOT_RELOAD=true

# ============================================================================
# Notes
# ============================================================================
#
# Database Setup:
# 1. Install PostgreSQL
# 2. Create database: createdb jeju_indexer_local
# 3. Run migrations: bun run migrate
#
# Starting the Indexer:
# 1. Ensure anvil is running
# 2. Deploy all contracts
# 3. Update this file with addresses
# 4. Copy to .env.local
# 5. Run: bun run dev
#
