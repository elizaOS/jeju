# Jeju Games Contracts

This directory contains on-chain game implementations built on Jeju.

## Structure

### `/mmo/` - MMO Game Framework (Hyperscape)
Full on-chain MMO implementation using MUD (Autonomous Worlds framework):

**Hyperscape** - On-chain RuneScape-style RPG
- **Location**: `mmo/` (formerly `hyperscape/`)
- **Framework**: MUD v2 (Lattice)
- **Features**:
  - 9 Skills (Combat: Attack, Strength, Defense, Constitution, Ranged | Gathering: Woodcutting, Fishing, Firemaking, Cooking)
  - 28-slot inventory system
  - 6-slot equipment system (weapon, shield, helmet, body, legs, arrows)
  - Combat system with mobs and loot tables
  - Resource gathering (trees, fishing spots)
  - On-chain state storage using MUD tables

**Systems** (`mmo/src/systems/`):
- `PlayerSystem.sol` - Registration, movement, health
- `CombatSystem.sol` - Combat mechanics, damage calculation
- `EquipmentSystem.sol` - Equip/unequip items
- `InventorySystem.sol` - 28-slot inventory management
- `MobSystem.sol` - Mob spawning and respawning
- `ResourceSystem.sol` - Woodcutting, fishing, firemaking
- `SkillSystem.sol` - XP and leveling for 9 skills
- `AdminSystem.sol` - World initialization and configuration

**Libraries** (`mmo/src/libraries/`):
- `CombatLib.sol` - Damage calculations, hit rolls
- `ItemLib.sol` - Equipment slot detection, requirements
- `XPLib.sol` - RuneScape XP table and level calculations

**Tables** (`mmo/src/codegen/tables/`) - Auto-generated by MUD:
- Player, Position, Health, CombatSkills, GatheringSkills
- Equipment, InventorySlot, ItemMetadata
- Mob, MobLootTable, Resource
- Coins, CombatTarget, WorldConfig

### `/tokens/` - Game Token Contracts
**Note**: Token contracts are located at `/contracts/src/tokens/` in the root, not in `/games/`

For Hyperscape-specific token deployments, see:
- Deployment script: `/scripts/deploy-rpg-game.ts`
- Token types: RPGGold, RPGItems, PlayerTradeEscrow patterns

## Building MMO Contracts

```bash
cd contracts/src/games/mmo
bun install
bun run build  # Generates MUD codegen
```

## Testing

MUD-based tests run separately from Foundry:
```bash
cd contracts/src/games/mmo
bun run test
```

## Deployment

Deploy the MMO World contract:
```bash
cd contracts/src/games/mmo  
bun run deploy:local  # For localnet
```

For full Hyperscape deployment with tokens:
```bash
cd /Users/shawwalters/jeju
bun scripts/deploy-rpg-game.ts
```

## Architecture

The MMO framework uses MUD's autonomous worlds pattern:
1. **World Contract** - Central registry and dispatcher
2. **Systems** - Game logic (combat, inventory, skills)
3. **Tables** - On-chain state storage
4. **Libraries** - Shared game mechanics

All game state is stored on-chain in MUD tables. Clients read from the chain and submit transactions to update state.

## Why MUD?

- **Deterministic**: All game logic runs on-chain
- **Composable**: Other contracts can read/write game state
- **Indexable**: Automatic GraphQL indexer for game state
- **Autonomous**: Game continues running without servers
- **Moddable**: Anyone can build on top

## Future Games

Additional MMO games can be added to this directory following the same MUD pattern. Each game gets its own namespace and isolated state.

## License

MIT - Build your own on-chain MMO!

