module.exports = class Data1760598407108 {
    name = 'Data1760598407108'

    async up(db) {
        await db.query(`CREATE TABLE "decoded_event" ("id" character varying NOT NULL, "event_signature" text NOT NULL, "event_name" text NOT NULL, "args" jsonb NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "log_id" character varying, "block_id" character varying, "transaction_id" character varying, "address_id" character varying, CONSTRAINT "REL_2c0a8c5038675238221fadb96c" UNIQUE ("log_id"), CONSTRAINT "PK_604623cb9fbf5848619c658ed70" PRIMARY KEY ("id"))`)
        await db.query(`CREATE UNIQUE INDEX "IDX_2c0a8c5038675238221fadb96c" ON "decoded_event" ("log_id") `)
        await db.query(`CREATE INDEX "IDX_bf5e2622f23b99b17d38e22f36" ON "decoded_event" ("block_id") `)
        await db.query(`CREATE INDEX "IDX_b0e68ea8c23a70dece29731f5e" ON "decoded_event" ("transaction_id") `)
        await db.query(`CREATE INDEX "IDX_77185105499f321fd0e795bbca" ON "decoded_event" ("address_id") `)
        await db.query(`CREATE INDEX "IDX_65fc86f9a7bf59dfb13c320f3d" ON "decoded_event" ("event_signature") `)
        await db.query(`CREATE INDEX "IDX_0e9db7b7ac80df168243c48474" ON "decoded_event" ("event_name") `)
        await db.query(`CREATE INDEX "IDX_be2ae094620778cd2567bd4174" ON "decoded_event" ("timestamp") `)
        await db.query(`CREATE TABLE "log" ("id" character varying NOT NULL, "log_index" integer NOT NULL, "topic0" text, "topic1" text, "topic2" text, "topic3" text, "data" text, "block_id" character varying, "transaction_id" character varying, "address_id" character varying, "decoded_event_id" character varying, CONSTRAINT "PK_350604cbdf991d5930d9e618fbd" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_7d3f5ac68148194ee7ced3032e" ON "log" ("block_id") `)
        await db.query(`CREATE INDEX "IDX_b0449a324b803f171f607e9d6c" ON "log" ("transaction_id") `)
        await db.query(`CREATE INDEX "IDX_d382bbcf99b71c79cde645a3d0" ON "log" ("address_id") `)
        await db.query(`CREATE INDEX "IDX_68b1848887890b15828d08ad9e" ON "log" ("topic0") `)
        await db.query(`CREATE INDEX "IDX_71553745ce59eeed624d01a746" ON "log" ("topic1") `)
        await db.query(`CREATE INDEX "IDX_ed7d71609bd64e02354305cf42" ON "log" ("topic2") `)
        await db.query(`CREATE INDEX "IDX_17e6a481f3aa53bd4913e9dc02" ON "log" ("topic3") `)
        await db.query(`CREATE INDEX "IDX_4ce8a8e635084a1068216c94e5" ON "log" ("decoded_event_id") `)
        await db.query(`CREATE TABLE "contract" ("id" character varying NOT NULL, "address" text NOT NULL, "bytecode" text, "contract_type" character varying(17), "is_erc20" boolean NOT NULL, "is_erc721" boolean NOT NULL, "is_erc1155" boolean NOT NULL, "is_proxy" boolean NOT NULL, "implementation_address" text, "verified" boolean NOT NULL, "first_seen_at" TIMESTAMP WITH TIME ZONE NOT NULL, "last_seen_at" TIMESTAMP WITH TIME ZONE NOT NULL, "creator_id" character varying, "creation_transaction_id" character varying, "creation_block_id" character varying, CONSTRAINT "PK_17c3a89f58a2997276084e706e8" PRIMARY KEY ("id"))`)
        await db.query(`CREATE UNIQUE INDEX "IDX_4bbe5fb40812718baf74cc9a79" ON "contract" ("address") `)
        await db.query(`CREATE INDEX "IDX_09bdbb8b82bd1041250f1dbc75" ON "contract" ("creator_id") `)
        await db.query(`CREATE INDEX "IDX_5456de4e38984aa839245ddc39" ON "contract" ("creation_transaction_id") `)
        await db.query(`CREATE INDEX "IDX_cb74cba29e70681683c94202cb" ON "contract" ("creation_block_id") `)
        await db.query(`CREATE INDEX "IDX_f256a32909b65e0adb69bc8839" ON "contract" ("first_seen_at") `)
        await db.query(`CREATE INDEX "IDX_48017ca312ab77982b8ca4422f" ON "contract" ("last_seen_at") `)
        await db.query(`CREATE TABLE "token_balance" ("id" character varying NOT NULL, "balance" numeric NOT NULL, "transfer_count" integer NOT NULL, "last_updated" TIMESTAMP WITH TIME ZONE NOT NULL, "token_id" character varying, "account_id" character varying, CONSTRAINT "PK_dc23ea262a0188977523d90ae7f" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_5813c3040e74c285719679c693" ON "token_balance" ("token_id") `)
        await db.query(`CREATE INDEX "IDX_d4e04cd8874942b186b7a9d927" ON "token_balance" ("account_id") `)
        await db.query(`CREATE INDEX "IDX_c5068d2514c0e9b35856555043" ON "token_balance" ("last_updated") `)
        await db.query(`CREATE TABLE "nft_ownership" ("id" character varying NOT NULL, "token_id" character varying NOT NULL, "acquired_at_block" integer NOT NULL, "acquired_at" TIMESTAMP WITH TIME ZONE NOT NULL, "owner_id" character varying, CONSTRAINT "PK_996de9fcf0bfac17fe8462ff52c" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_7a3fa3d4d95b4b6e496ef848d2" ON "nft_ownership" ("token_id") `)
        await db.query(`CREATE INDEX "IDX_33d3971cd0bc79ec96178a16b9" ON "nft_ownership" ("owner_id") `)
        await db.query(`CREATE TABLE "account" ("id" character varying NOT NULL, "address" text NOT NULL, "is_contract" boolean NOT NULL, "first_seen_block" integer NOT NULL, "last_seen_block" integer NOT NULL, "transaction_count" integer NOT NULL, "total_value_sent" numeric NOT NULL, "total_value_received" numeric NOT NULL, "labels" text array NOT NULL, "contract_id" character varying, CONSTRAINT "PK_54115ee388cdb6d86bb4bf5b2ea" PRIMARY KEY ("id"))`)
        await db.query(`CREATE UNIQUE INDEX "IDX_83603c168bc00b20544539fbea" ON "account" ("address") `)
        await db.query(`CREATE INDEX "IDX_f967c4f885c958e866db19a60f" ON "account" ("is_contract") `)
        await db.query(`CREATE INDEX "IDX_53be5fe2df7f033360c7126819" ON "account" ("contract_id") `)
        await db.query(`CREATE INDEX "IDX_71f0bbbb5c51d7e69d6a25dc62" ON "account" ("first_seen_block") `)
        await db.query(`CREATE INDEX "IDX_0058b87281e6a64f6db5187341" ON "account" ("last_seen_block") `)
        await db.query(`CREATE TABLE "trace" ("id" character varying NOT NULL, "trace_address" integer array NOT NULL, "subtraces" integer NOT NULL, "trace_type" character varying(7) NOT NULL, "call_type" text, "value" numeric, "gas" numeric, "gas_used" numeric, "input" text, "output" text, "error" text, "transaction_id" character varying, "from_id" character varying, "to_id" character varying, "block_id" character varying, CONSTRAINT "PK_d55e3146ed1a9769069a83a8044" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_32ac5e9db3720f2a69b517ef5e" ON "trace" ("transaction_id") `)
        await db.query(`CREATE INDEX "IDX_673c606270abe8b0f37e9709e9" ON "trace" ("trace_type") `)
        await db.query(`CREATE INDEX "IDX_27e95e8bb28be23c0fb964aa29" ON "trace" ("from_id") `)
        await db.query(`CREATE INDEX "IDX_91442dad266706f69008ed6c47" ON "trace" ("to_id") `)
        await db.query(`CREATE INDEX "IDX_40a63d9e29c3d0ddc3501292c6" ON "trace" ("block_id") `)
        await db.query(`CREATE TABLE "token_transfer" ("id" character varying NOT NULL, "log_index" integer NOT NULL, "token_standard" character varying(7) NOT NULL, "value" numeric, "token_id" character varying, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "block_id" character varying, "transaction_id" character varying, "from_id" character varying, "to_id" character varying, "operator_id" character varying, CONSTRAINT "PK_77384b7f5874553f012eba9da41" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_df880819edb0d6a3168fde64d7" ON "token_transfer" ("block_id") `)
        await db.query(`CREATE INDEX "IDX_b2bc7c264d1c698cd6147c6e1c" ON "token_transfer" ("transaction_id") `)
        await db.query(`CREATE INDEX "IDX_4dbddd00fdedf513899e70cc68" ON "token_transfer" ("token_id") `)
        await db.query(`CREATE INDEX "IDX_0dd22ecdb9b38e7b985c11b58c" ON "token_transfer" ("token_standard") `)
        await db.query(`CREATE INDEX "IDX_f62ce2d807e8c6ce2651d2ebf9" ON "token_transfer" ("from_id") `)
        await db.query(`CREATE INDEX "IDX_f272327358edf76901e129ac31" ON "token_transfer" ("to_id") `)
        await db.query(`CREATE INDEX "IDX_cf689fed4f031b691c31152201" ON "token_transfer" ("operator_id") `)
        await db.query(`CREATE INDEX "IDX_752d6c330729a7b2e283003374" ON "token_transfer" ("timestamp") `)
        await db.query(`CREATE TABLE "transaction" ("id" character varying NOT NULL, "hash" text NOT NULL, "transaction_index" integer NOT NULL, "value" numeric NOT NULL, "gas_price" numeric, "gas_limit" numeric NOT NULL, "gas_used" numeric, "input" text, "nonce" integer NOT NULL, "status" character varying(7) NOT NULL, "type" integer, "max_fee_per_gas" numeric, "max_priority_fee_per_gas" numeric, "block_id" character varying, "from_id" character varying, "to_id" character varying, "contract_address_id" character varying, CONSTRAINT "PK_89eadb93a89810556e1cbcd6ab9" PRIMARY KEY ("id"))`)
        await db.query(`CREATE UNIQUE INDEX "IDX_de4f0899c41c688529784bc443" ON "transaction" ("hash") `)
        await db.query(`CREATE INDEX "IDX_c0e1460f3c9eee975fee81002d" ON "transaction" ("block_id") `)
        await db.query(`CREATE INDEX "IDX_99298f25613c7c4d7c8a77f9a4" ON "transaction" ("from_id") `)
        await db.query(`CREATE INDEX "IDX_7de44fdf7c9e64d9fd4b8a1de3" ON "transaction" ("to_id") `)
        await db.query(`CREATE INDEX "IDX_63f749fc7f7178ae1ad85d3b95" ON "transaction" ("status") `)
        await db.query(`CREATE INDEX "IDX_15fb86968ef04bd2a4973e51e0" ON "transaction" ("contract_address_id") `)
        await db.query(`CREATE TABLE "block" ("id" character varying NOT NULL, "number" integer NOT NULL, "hash" text NOT NULL, "parent_hash" text NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "miner" text NOT NULL, "gas_used" numeric NOT NULL, "gas_limit" numeric NOT NULL, "base_fee_per_gas" numeric, "difficulty" numeric, "size" integer, "transaction_count" integer NOT NULL, CONSTRAINT "PK_d0925763efb591c2e2ffb267572" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_38414873c187a3e0c7943bc4c7" ON "block" ("number") `)
        await db.query(`CREATE UNIQUE INDEX "IDX_f8fba63d7965bfee9f304c487a" ON "block" ("hash") `)
        await db.query(`CREATE INDEX "IDX_5c67cbcf4960c1a39e5fe25e87" ON "block" ("timestamp") `)
        await db.query(`CREATE INDEX "IDX_4b532cdc903c0b746b73bac96f" ON "block" ("miner") `)
        await db.query(`CREATE TABLE "relationship" ("id" character varying NOT NULL, "from_entity_type" character varying(11) NOT NULL, "from_entity_id" text NOT NULL, "to_entity_type" character varying(11) NOT NULL, "to_entity_id" text NOT NULL, "relationship_type" text NOT NULL, "weight" integer NOT NULL, "metadata" jsonb, "first_seen_at" TIMESTAMP WITH TIME ZONE NOT NULL, "last_seen_at" TIMESTAMP WITH TIME ZONE NOT NULL, "transaction_id" character varying, "block_id" character varying, CONSTRAINT "PK_67eb56a3f16da3d901a8ae446a6" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_449d992fc36136d54c8d033716" ON "relationship" ("from_entity_type") `)
        await db.query(`CREATE INDEX "IDX_5ac6fc2d732473eef572b34148" ON "relationship" ("from_entity_id") `)
        await db.query(`CREATE INDEX "IDX_51d4c4f3bafb43064a52f1a59b" ON "relationship" ("to_entity_type") `)
        await db.query(`CREATE INDEX "IDX_643b0a22b9f4d15a6524da754b" ON "relationship" ("to_entity_id") `)
        await db.query(`CREATE INDEX "IDX_4a9834553a84e7841e38eb2e13" ON "relationship" ("relationship_type") `)
        await db.query(`CREATE INDEX "IDX_6a414b2565807f6455c15993ce" ON "relationship" ("transaction_id") `)
        await db.query(`CREATE INDEX "IDX_e59e7bffee121dce5e0d3887f7" ON "relationship" ("block_id") `)
        await db.query(`CREATE TABLE "daily_activity" ("id" character varying NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "transaction_count" integer NOT NULL, "unique_senders" integer NOT NULL, "unique_receivers" integer NOT NULL, "contract_deployments" integer NOT NULL, "total_value_transferred" numeric NOT NULL, "total_gas_spent" numeric NOT NULL, "avg_gas_used" numeric NOT NULL, "block_count" integer NOT NULL, CONSTRAINT "PK_10ef7a185f0109074aff98ecae3" PRIMARY KEY ("id"))`)
        await db.query(`CREATE UNIQUE INDEX "IDX_e3b70dfee05e0024f45e840f5e" ON "daily_activity" ("date") `)
        await db.query(`CREATE TABLE "contract_interaction" ("id" character varying NOT NULL, "interaction_count" integer NOT NULL, "total_value_sent" numeric NOT NULL, "first_interaction" TIMESTAMP WITH TIME ZONE NOT NULL, "last_interaction" TIMESTAMP WITH TIME ZONE NOT NULL, "active_days" integer NOT NULL, "contract_id" character varying, "caller_id" character varying, CONSTRAINT "PK_e0438f17f12391f4c075171b23a" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_a02ba714a0011c978d561dfad2" ON "contract_interaction" ("contract_id") `)
        await db.query(`CREATE INDEX "IDX_94477dca389907547861a2d226" ON "contract_interaction" ("caller_id") `)
        await db.query(`CREATE TABLE "protocol_activity" ("id" character varying NOT NULL, "event_name" text NOT NULL, "date" TIMESTAMP WITH TIME ZONE NOT NULL, "event_count" integer NOT NULL, "unique_transactions" integer NOT NULL, "active_hours" integer NOT NULL, "protocol_id" character varying, CONSTRAINT "PK_0b0faa6d0c2d1c90a11446c1c5c" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_d8a06d9b5e6b3475d3a6a61c7d" ON "protocol_activity" ("protocol_id") `)
        await db.query(`CREATE INDEX "IDX_92bdb3e407c335f4c2ab24ea61" ON "protocol_activity" ("event_name") `)
        await db.query(`CREATE INDEX "IDX_4b353d03c629922eb20424ad45" ON "protocol_activity" ("date") `)
        await db.query(`ALTER TABLE "decoded_event" ADD CONSTRAINT "FK_2c0a8c5038675238221fadb96cf" FOREIGN KEY ("log_id") REFERENCES "log"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "decoded_event" ADD CONSTRAINT "FK_bf5e2622f23b99b17d38e22f364" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "decoded_event" ADD CONSTRAINT "FK_b0e68ea8c23a70dece29731f5e8" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "decoded_event" ADD CONSTRAINT "FK_77185105499f321fd0e795bbca5" FOREIGN KEY ("address_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "log" ADD CONSTRAINT "FK_7d3f5ac68148194ee7ced3032e2" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "log" ADD CONSTRAINT "FK_b0449a324b803f171f607e9d6ca" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "log" ADD CONSTRAINT "FK_d382bbcf99b71c79cde645a3d02" FOREIGN KEY ("address_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "log" ADD CONSTRAINT "FK_4ce8a8e635084a1068216c94e50" FOREIGN KEY ("decoded_event_id") REFERENCES "decoded_event"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "contract" ADD CONSTRAINT "FK_09bdbb8b82bd1041250f1dbc75f" FOREIGN KEY ("creator_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "contract" ADD CONSTRAINT "FK_5456de4e38984aa839245ddc393" FOREIGN KEY ("creation_transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "contract" ADD CONSTRAINT "FK_cb74cba29e70681683c94202cb2" FOREIGN KEY ("creation_block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_balance" ADD CONSTRAINT "FK_5813c3040e74c285719679c6935" FOREIGN KEY ("token_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_balance" ADD CONSTRAINT "FK_d4e04cd8874942b186b7a9d927d" FOREIGN KEY ("account_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nft_ownership" ADD CONSTRAINT "FK_7a3fa3d4d95b4b6e496ef848d20" FOREIGN KEY ("token_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nft_ownership" ADD CONSTRAINT "FK_33d3971cd0bc79ec96178a16b9a" FOREIGN KEY ("owner_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "account" ADD CONSTRAINT "FK_53be5fe2df7f033360c7126819c" FOREIGN KEY ("contract_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "trace" ADD CONSTRAINT "FK_32ac5e9db3720f2a69b517ef5e6" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "trace" ADD CONSTRAINT "FK_27e95e8bb28be23c0fb964aa293" FOREIGN KEY ("from_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "trace" ADD CONSTRAINT "FK_91442dad266706f69008ed6c474" FOREIGN KEY ("to_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "trace" ADD CONSTRAINT "FK_40a63d9e29c3d0ddc3501292c6b" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_transfer" ADD CONSTRAINT "FK_df880819edb0d6a3168fde64d71" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_transfer" ADD CONSTRAINT "FK_b2bc7c264d1c698cd6147c6e1cd" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_transfer" ADD CONSTRAINT "FK_4dbddd00fdedf513899e70cc681" FOREIGN KEY ("token_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_transfer" ADD CONSTRAINT "FK_f62ce2d807e8c6ce2651d2ebf97" FOREIGN KEY ("from_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_transfer" ADD CONSTRAINT "FK_f272327358edf76901e129ac317" FOREIGN KEY ("to_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "token_transfer" ADD CONSTRAINT "FK_cf689fed4f031b691c311522011" FOREIGN KEY ("operator_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transaction" ADD CONSTRAINT "FK_c0e1460f3c9eee975fee81002dc" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transaction" ADD CONSTRAINT "FK_99298f25613c7c4d7c8a77f9a40" FOREIGN KEY ("from_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transaction" ADD CONSTRAINT "FK_7de44fdf7c9e64d9fd4b8a1de36" FOREIGN KEY ("to_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transaction" ADD CONSTRAINT "FK_15fb86968ef04bd2a4973e51e01" FOREIGN KEY ("contract_address_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "relationship" ADD CONSTRAINT "FK_6a414b2565807f6455c15993ce3" FOREIGN KEY ("transaction_id") REFERENCES "transaction"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "relationship" ADD CONSTRAINT "FK_e59e7bffee121dce5e0d3887f7e" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "contract_interaction" ADD CONSTRAINT "FK_a02ba714a0011c978d561dfad21" FOREIGN KEY ("contract_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "contract_interaction" ADD CONSTRAINT "FK_94477dca389907547861a2d2263" FOREIGN KEY ("caller_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "protocol_activity" ADD CONSTRAINT "FK_d8a06d9b5e6b3475d3a6a61c7de" FOREIGN KEY ("protocol_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    }

    async down(db) {
        await db.query(`DROP TABLE "decoded_event"`)
        await db.query(`DROP INDEX "public"."IDX_2c0a8c5038675238221fadb96c"`)
        await db.query(`DROP INDEX "public"."IDX_bf5e2622f23b99b17d38e22f36"`)
        await db.query(`DROP INDEX "public"."IDX_b0e68ea8c23a70dece29731f5e"`)
        await db.query(`DROP INDEX "public"."IDX_77185105499f321fd0e795bbca"`)
        await db.query(`DROP INDEX "public"."IDX_65fc86f9a7bf59dfb13c320f3d"`)
        await db.query(`DROP INDEX "public"."IDX_0e9db7b7ac80df168243c48474"`)
        await db.query(`DROP INDEX "public"."IDX_be2ae094620778cd2567bd4174"`)
        await db.query(`DROP TABLE "log"`)
        await db.query(`DROP INDEX "public"."IDX_7d3f5ac68148194ee7ced3032e"`)
        await db.query(`DROP INDEX "public"."IDX_b0449a324b803f171f607e9d6c"`)
        await db.query(`DROP INDEX "public"."IDX_d382bbcf99b71c79cde645a3d0"`)
        await db.query(`DROP INDEX "public"."IDX_68b1848887890b15828d08ad9e"`)
        await db.query(`DROP INDEX "public"."IDX_71553745ce59eeed624d01a746"`)
        await db.query(`DROP INDEX "public"."IDX_ed7d71609bd64e02354305cf42"`)
        await db.query(`DROP INDEX "public"."IDX_17e6a481f3aa53bd4913e9dc02"`)
        await db.query(`DROP INDEX "public"."IDX_4ce8a8e635084a1068216c94e5"`)
        await db.query(`DROP TABLE "contract"`)
        await db.query(`DROP INDEX "public"."IDX_4bbe5fb40812718baf74cc9a79"`)
        await db.query(`DROP INDEX "public"."IDX_09bdbb8b82bd1041250f1dbc75"`)
        await db.query(`DROP INDEX "public"."IDX_5456de4e38984aa839245ddc39"`)
        await db.query(`DROP INDEX "public"."IDX_cb74cba29e70681683c94202cb"`)
        await db.query(`DROP INDEX "public"."IDX_f256a32909b65e0adb69bc8839"`)
        await db.query(`DROP INDEX "public"."IDX_48017ca312ab77982b8ca4422f"`)
        await db.query(`DROP TABLE "token_balance"`)
        await db.query(`DROP INDEX "public"."IDX_5813c3040e74c285719679c693"`)
        await db.query(`DROP INDEX "public"."IDX_d4e04cd8874942b186b7a9d927"`)
        await db.query(`DROP INDEX "public"."IDX_c5068d2514c0e9b35856555043"`)
        await db.query(`DROP TABLE "nft_ownership"`)
        await db.query(`DROP INDEX "public"."IDX_7a3fa3d4d95b4b6e496ef848d2"`)
        await db.query(`DROP INDEX "public"."IDX_7a3fa3d4d95b4b6e496ef848d2"`)
        await db.query(`DROP INDEX "public"."IDX_33d3971cd0bc79ec96178a16b9"`)
        await db.query(`DROP TABLE "account"`)
        await db.query(`DROP INDEX "public"."IDX_83603c168bc00b20544539fbea"`)
        await db.query(`DROP INDEX "public"."IDX_f967c4f885c958e866db19a60f"`)
        await db.query(`DROP INDEX "public"."IDX_53be5fe2df7f033360c7126819"`)
        await db.query(`DROP INDEX "public"."IDX_71f0bbbb5c51d7e69d6a25dc62"`)
        await db.query(`DROP INDEX "public"."IDX_0058b87281e6a64f6db5187341"`)
        await db.query(`DROP TABLE "trace"`)
        await db.query(`DROP INDEX "public"."IDX_32ac5e9db3720f2a69b517ef5e"`)
        await db.query(`DROP INDEX "public"."IDX_673c606270abe8b0f37e9709e9"`)
        await db.query(`DROP INDEX "public"."IDX_27e95e8bb28be23c0fb964aa29"`)
        await db.query(`DROP INDEX "public"."IDX_91442dad266706f69008ed6c47"`)
        await db.query(`DROP INDEX "public"."IDX_40a63d9e29c3d0ddc3501292c6"`)
        await db.query(`DROP TABLE "token_transfer"`)
        await db.query(`DROP INDEX "public"."IDX_df880819edb0d6a3168fde64d7"`)
        await db.query(`DROP INDEX "public"."IDX_b2bc7c264d1c698cd6147c6e1c"`)
        await db.query(`DROP INDEX "public"."IDX_4dbddd00fdedf513899e70cc68"`)
        await db.query(`DROP INDEX "public"."IDX_0dd22ecdb9b38e7b985c11b58c"`)
        await db.query(`DROP INDEX "public"."IDX_f62ce2d807e8c6ce2651d2ebf9"`)
        await db.query(`DROP INDEX "public"."IDX_f272327358edf76901e129ac31"`)
        await db.query(`DROP INDEX "public"."IDX_cf689fed4f031b691c31152201"`)
        await db.query(`DROP INDEX "public"."IDX_752d6c330729a7b2e283003374"`)
        await db.query(`DROP TABLE "transaction"`)
        await db.query(`DROP INDEX "public"."IDX_de4f0899c41c688529784bc443"`)
        await db.query(`DROP INDEX "public"."IDX_c0e1460f3c9eee975fee81002d"`)
        await db.query(`DROP INDEX "public"."IDX_99298f25613c7c4d7c8a77f9a4"`)
        await db.query(`DROP INDEX "public"."IDX_7de44fdf7c9e64d9fd4b8a1de3"`)
        await db.query(`DROP INDEX "public"."IDX_63f749fc7f7178ae1ad85d3b95"`)
        await db.query(`DROP INDEX "public"."IDX_15fb86968ef04bd2a4973e51e0"`)
        await db.query(`DROP TABLE "block"`)
        await db.query(`DROP INDEX "public"."IDX_38414873c187a3e0c7943bc4c7"`)
        await db.query(`DROP INDEX "public"."IDX_f8fba63d7965bfee9f304c487a"`)
        await db.query(`DROP INDEX "public"."IDX_5c67cbcf4960c1a39e5fe25e87"`)
        await db.query(`DROP INDEX "public"."IDX_4b532cdc903c0b746b73bac96f"`)
        await db.query(`DROP TABLE "relationship"`)
        await db.query(`DROP INDEX "public"."IDX_449d992fc36136d54c8d033716"`)
        await db.query(`DROP INDEX "public"."IDX_5ac6fc2d732473eef572b34148"`)
        await db.query(`DROP INDEX "public"."IDX_51d4c4f3bafb43064a52f1a59b"`)
        await db.query(`DROP INDEX "public"."IDX_643b0a22b9f4d15a6524da754b"`)
        await db.query(`DROP INDEX "public"."IDX_4a9834553a84e7841e38eb2e13"`)
        await db.query(`DROP INDEX "public"."IDX_6a414b2565807f6455c15993ce"`)
        await db.query(`DROP INDEX "public"."IDX_e59e7bffee121dce5e0d3887f7"`)
        await db.query(`DROP TABLE "daily_activity"`)
        await db.query(`DROP INDEX "public"."IDX_e3b70dfee05e0024f45e840f5e"`)
        await db.query(`DROP TABLE "contract_interaction"`)
        await db.query(`DROP INDEX "public"."IDX_a02ba714a0011c978d561dfad2"`)
        await db.query(`DROP INDEX "public"."IDX_94477dca389907547861a2d226"`)
        await db.query(`DROP TABLE "protocol_activity"`)
        await db.query(`DROP INDEX "public"."IDX_d8a06d9b5e6b3475d3a6a61c7d"`)
        await db.query(`DROP INDEX "public"."IDX_92bdb3e407c335f4c2ab24ea61"`)
        await db.query(`DROP INDEX "public"."IDX_4b353d03c629922eb20424ad45"`)
        await db.query(`ALTER TABLE "decoded_event" DROP CONSTRAINT "FK_2c0a8c5038675238221fadb96cf"`)
        await db.query(`ALTER TABLE "decoded_event" DROP CONSTRAINT "FK_bf5e2622f23b99b17d38e22f364"`)
        await db.query(`ALTER TABLE "decoded_event" DROP CONSTRAINT "FK_b0e68ea8c23a70dece29731f5e8"`)
        await db.query(`ALTER TABLE "decoded_event" DROP CONSTRAINT "FK_77185105499f321fd0e795bbca5"`)
        await db.query(`ALTER TABLE "log" DROP CONSTRAINT "FK_7d3f5ac68148194ee7ced3032e2"`)
        await db.query(`ALTER TABLE "log" DROP CONSTRAINT "FK_b0449a324b803f171f607e9d6ca"`)
        await db.query(`ALTER TABLE "log" DROP CONSTRAINT "FK_d382bbcf99b71c79cde645a3d02"`)
        await db.query(`ALTER TABLE "log" DROP CONSTRAINT "FK_4ce8a8e635084a1068216c94e50"`)
        await db.query(`ALTER TABLE "contract" DROP CONSTRAINT "FK_09bdbb8b82bd1041250f1dbc75f"`)
        await db.query(`ALTER TABLE "contract" DROP CONSTRAINT "FK_5456de4e38984aa839245ddc393"`)
        await db.query(`ALTER TABLE "contract" DROP CONSTRAINT "FK_cb74cba29e70681683c94202cb2"`)
        await db.query(`ALTER TABLE "token_balance" DROP CONSTRAINT "FK_5813c3040e74c285719679c6935"`)
        await db.query(`ALTER TABLE "token_balance" DROP CONSTRAINT "FK_d4e04cd8874942b186b7a9d927d"`)
        await db.query(`ALTER TABLE "nft_ownership" DROP CONSTRAINT "FK_7a3fa3d4d95b4b6e496ef848d20"`)
        await db.query(`ALTER TABLE "nft_ownership" DROP CONSTRAINT "FK_33d3971cd0bc79ec96178a16b9a"`)
        await db.query(`ALTER TABLE "account" DROP CONSTRAINT "FK_53be5fe2df7f033360c7126819c"`)
        await db.query(`ALTER TABLE "trace" DROP CONSTRAINT "FK_32ac5e9db3720f2a69b517ef5e6"`)
        await db.query(`ALTER TABLE "trace" DROP CONSTRAINT "FK_27e95e8bb28be23c0fb964aa293"`)
        await db.query(`ALTER TABLE "trace" DROP CONSTRAINT "FK_91442dad266706f69008ed6c474"`)
        await db.query(`ALTER TABLE "trace" DROP CONSTRAINT "FK_40a63d9e29c3d0ddc3501292c6b"`)
        await db.query(`ALTER TABLE "token_transfer" DROP CONSTRAINT "FK_df880819edb0d6a3168fde64d71"`)
        await db.query(`ALTER TABLE "token_transfer" DROP CONSTRAINT "FK_b2bc7c264d1c698cd6147c6e1cd"`)
        await db.query(`ALTER TABLE "token_transfer" DROP CONSTRAINT "FK_4dbddd00fdedf513899e70cc681"`)
        await db.query(`ALTER TABLE "token_transfer" DROP CONSTRAINT "FK_f62ce2d807e8c6ce2651d2ebf97"`)
        await db.query(`ALTER TABLE "token_transfer" DROP CONSTRAINT "FK_f272327358edf76901e129ac317"`)
        await db.query(`ALTER TABLE "token_transfer" DROP CONSTRAINT "FK_cf689fed4f031b691c311522011"`)
        await db.query(`ALTER TABLE "transaction" DROP CONSTRAINT "FK_c0e1460f3c9eee975fee81002dc"`)
        await db.query(`ALTER TABLE "transaction" DROP CONSTRAINT "FK_99298f25613c7c4d7c8a77f9a40"`)
        await db.query(`ALTER TABLE "transaction" DROP CONSTRAINT "FK_7de44fdf7c9e64d9fd4b8a1de36"`)
        await db.query(`ALTER TABLE "transaction" DROP CONSTRAINT "FK_15fb86968ef04bd2a4973e51e01"`)
        await db.query(`ALTER TABLE "relationship" DROP CONSTRAINT "FK_6a414b2565807f6455c15993ce3"`)
        await db.query(`ALTER TABLE "relationship" DROP CONSTRAINT "FK_e59e7bffee121dce5e0d3887f7e"`)
        await db.query(`ALTER TABLE "contract_interaction" DROP CONSTRAINT "FK_a02ba714a0011c978d561dfad21"`)
        await db.query(`ALTER TABLE "contract_interaction" DROP CONSTRAINT "FK_94477dca389907547861a2d2263"`)
        await db.query(`ALTER TABLE "protocol_activity" DROP CONSTRAINT "FK_d8a06d9b5e6b3475d3a6a61c7de"`)
    }
}
