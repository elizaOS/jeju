# Jeju Oracle Network Configuration

# Oracle node - submits price data to on-chain oracle
oracleNode:
  enabled: true
  replicaCount: 3

  image:
    repository: ghcr.io/jeju-network/oracle-node
    pullPolicy: IfNotPresent
    tag: ""

  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi

  config:
    submitIntervalMs: 30000
    heartbeatIntervalMs: 60000
    priceDeviationThresholdBps: 50

# Price aggregator API - serves aggregated prices
aggregatorApi:
  enabled: true
  replicaCount: 2

  image:
    repository: ghcr.io/jeju-network/price-aggregator
    pullPolicy: IfNotPresent
    tag: ""

  service:
    type: ClusterIP
    port: 8081

  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi

# Consensus monitor - monitors oracle network health
consensusMonitor:
  enabled: true
  replicaCount: 1

  image:
    repository: ghcr.io/jeju-network/oracle-monitor
    pullPolicy: IfNotPresent
    tag: ""

  resources:
    limits:
      cpu: 200m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi

# Shared configuration
global:
  network: testnet
  chainId: 84532

serviceAccount:
  create: true
  annotations: {}
  name: ""

# Contract addresses
contracts:
  oracleStakingManager: ""
  priceFeedAggregator: ""
  feedRegistry: ""
  reportVerifier: ""
  identityRegistry: ""
  reputationRegistry: ""

# Supported price feeds
feeds:
  - symbol: BTC-USD
    decimals: 8
    heartbeatSeconds: 60
  - symbol: ETH-USD
    decimals: 8
    heartbeatSeconds: 60

# External price sources
priceSources:
  chainlink:
    enabled: true
    feeds:
      BTC-USD: "0xF4030086522a5bEEa4988F8cA5B36dbC97BeE88c"
      ETH-USD: "0x5f4eC3Df9cbd43714FE2740f5E3616155c5b8419"
  pyth:
    enabled: false
    endpoint: ""
  binance:
    enabled: true
    endpoint: "https://api.binance.com/api/v3/ticker/price"

# RPC endpoints
rpc:
  primary: ""
  fallback: ""

# Monitoring
metrics:
  enabled: true
  port: 9090
  path: /metrics

# Alerting thresholds
alerting:
  stalePriceThresholdSeconds: 120
  deviationAlertBps: 100
  minActiveOracles: 3

# Environment variables from secrets
envFrom:
  - secretRef:
      name: oracle-env

# Common labels
commonLabels:
  app.kubernetes.io/part-of: jeju-oracle
