# OP-Batcher values for Jeju Mainnet
# Uses internal L1 and L2 nodes

replicaCount: 2

resources:
  limits:
    cpu: 2000m
    memory: 4Gi
  requests:
    cpu: 1000m
    memory: 2Gi

nodeSelector:
  workload: core
  Environment: mainnet

tolerations:
  - key: workload
    operator: Equal
    value: core
    effect: NoSchedule

config:
  l1:
    # Use internal Ethereum mainnet L1 node
    rpcUrl: "http://geth-mainnet.l1.svc.cluster.local:8545"
  l2:
    rpcUrl: "http://reth-sequencer.execution.svc.cluster.local:8545"
  rollup:
    rpcUrl: "http://op-node.op-stack.svc.cluster.local:9545"
  dataAvailability:
    # Use native blobs post-Fusaka
    type: "blobs"
  # Private key should be from external secret management
  privateKey: ""  # MUST be set via secrets
  
  # Batch submission settings
  maxChannelDuration: 200
  subSafetyMargin: 10
  pollInterval: "6s"
  numConfirmations: 10

affinity:
  podAntiAffinity:
    preferredDuringSchedulingIgnoredDuringExecution:
    - weight: 100
      podAffinityTerm:
        labelSelector:
          matchExpressions:
          - key: app.kubernetes.io/name
            operator: In
            values:
            - op-batcher
        topologyKey: kubernetes.io/hostname
